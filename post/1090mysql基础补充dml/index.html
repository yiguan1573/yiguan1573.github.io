<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="referrer" content="never">

    
    <meta property="og:site_name" content="亿观的博客">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://yiguan1573.github.io//img/01.jpg">
    <meta property="twitter:image" content="https://yiguan1573.github.io//img/01.jpg" />
    

    
    <meta name="title" content="20、mysql基础补充(DML)" />
    <meta property="og:title" content="20、mysql基础补充(DML)" />
    <meta property="twitter:title" content="20、mysql基础补充(DML)" />
    

    
    <meta name="description" content="">
    <meta property="og:description" content="" />
    <meta property="twitter:description" content="" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>20、mysql基础补充(DML) | yiguan1573</title>

    <link rel="canonical" href="/post/1090mysql%E5%9F%BA%E7%A1%80%E8%A1%A5%E5%85%85dml/">

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css" rel="stylesheet" type="text/css">

    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    

</head>




<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">亿观的博客</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">首页</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/%E5%AD%A6%E4%B9%A0">学习</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/top/archive/">档案</a></li>
                    
                        <li><a href="/top/about/">关于</a></li>
                    

                    
		    <li>
                        <a href="/search"><i class="fa fa-search"></i></a>
		    </li>
                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/img/04.JPG')
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/mysql" title="mysql">
                            mysql
                        </a>
                        
                    </div>
                    <h1>20、mysql基础补充(DML)</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        
                            Posted by 
                            
                                亿观
                             
                            on 
                            Sunday, November 20, 2022
                            
                                <span id="/post/1090mysql%E5%9F%BA%E7%A1%80%E8%A1%A5%E5%85%85dml/" class="leancloud_visitors meta_data_item" data-flag-title="">
    <span class="post-meta-item-icon">
      <span class="octicon octicon-eye"></span> 
    </span>
    <i class="fa fa-eye"></i>
    <span class="old-visitors-count" style="display: none;"></span>
    <span class="leancloud-visitors-count"></span>
</span>



<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>

<script>
	AV.initialize("", "");
</script>

<script type="text/javascript">
function showTime(Counter) {
    var query = new AV.Query(Counter);
    var entries = [];
    var $visitors = $(".leancloud_visitors");

    $visitors.each(function() {
        entries.push($(this).attr("id").trim());
    });

    query.containedIn('url', entries);
    query.find()
        .done(function(results) {
            var COUNT_CONTAINER_REF = '.leancloud-visitors-count';
            var OLD_COUNT_CONTAINER_REF = '.old-visitors-count';

            
            
            
            

            for (var i = 0; i < results.length; i++) {
                var item = results[i];
                var url = item.get('url');
                var time = item.get('time');
                var element = document.getElementById(url);

                $(element).find(COUNT_CONTAINER_REF).text(time);
            }
            for (var i = 0; i < entries.length; i++) {
                var url = entries[i];
                var element = document.getElementById(url);
                var countSpan = $(element).find(COUNT_CONTAINER_REF);
                if (countSpan.text() == '') {
                    var oldCountSpan = $(element).find(OLD_COUNT_CONTAINER_REF).text();
                    if(oldCountSpan!=''){
                        countSpan.text(0+parseInt(oldCountSpan));
                    }else{
                        countSpan.text(0);          
                    }
                }
            }
        })
        .fail(function(object, error) {
            console.log("Error: " + error.code + " " + error.message);
        });
}

function addCount(Counter) {
    var $visitors = $(".leancloud_visitors");
    var url = $visitors.attr('id').trim();
    var title = $visitors.attr('data-flag-title').trim();
    var query = new AV.Query(Counter);

    query.equalTo("url", url);
    query.find({
        success: function(results) {
            if (results.length > 0) {
                var counter = results[0];
                counter.fetchWhenSave(true);
                counter.increment("time");
                counter.save(null, {
                    success: function(counter) {
                        var $element = $(document.getElementById(url));
                        $element.find('.leancloud-visitors-count').text(counter.get('time'));
                    },
                    error: function(counter, error) {
                        console.log('Failed to save Visitor num, with error message: ' + error.message);
                    }
                });
            } else {
                var newcounter = new Counter();
                 
                var acl = new AV.ACL();
                acl.setPublicReadAccess(true);
                acl.setPublicWriteAccess(true);
                newcounter.setACL(acl);
                 
                newcounter.set("title", title);
                newcounter.set("url", url);
                var OLD_COUNT_CONTAINER_REF = '.old-visitors-count';
                var $element = $(document.getElementById(url));
                var oldCountSpan = $element.find(OLD_COUNT_CONTAINER_REF).text();
                if(oldCountSpan!=''){
                    newcounter.set("time", parseInt(oldCountSpan)+1);
                }else{
 	                    newcounter.set("time",  1);
                }
                newcounter.save(null, {
                    success: function(newcounter) {
                        var $element = $(document.getElementById(url));
                        $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
                    },
                    error: function(newcounter, error) {
                        console.log('Failed to create');
                    }
                });
            }
        },
        error: function(error) {
            console.log('Error:' + error.code + " " + error.message);
        }
    });
}
$(function() {
    var Counter = AV.Object.extend("Counter");
    
    
    if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
    } else {
        showTime(Counter);
    }
});
</script>

                            
                            
                            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <h1 id="导入表的问题">导入表的问题</h1>
<p><strong>导入数据时外键约束问题</strong></p>
<p>数据导入指令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">source d:\xxx.<span style="color:#ff79c6">sql</span>
</code></pre></div><p>通过FOREIGN_KEY_CHECKS解决，用法如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#8be9fd">set</span> FOREIGN_KEY_CHECKS<span style="color:#ff79c6">=</span><span style="color:#bd93f9">0</span>;  <span style="color:#6272a4">#在导入前设置为不检查外键约束
</span><span style="color:#6272a4"></span><span style="color:#8be9fd">set</span> FOREIGN_KEY_CHECKS<span style="color:#ff79c6">=</span><span style="color:#bd93f9">1</span>;  <span style="color:#6272a4">#在导入后恢复检查外键约束
</span></code></pre></div><h1 id="第三章_最基本的select语句">第三章_最基本的SELECT语句</h1>
<h2 id="1-sql语言的规则和规范">1. SQL语言的规则和规范</h2>
<h3 id="1-基本规则">1) 基本规则</h3>
<ul>
<li>SQL 可以写在一行或者多行。为了提高可读性，各子句分行写，必要时使用缩进</li>
<li>每条命令以 ; 或 \g 或 \G 结束</li>
<li>关键字不能被缩写也不能分行</li>
<li>关于标点符号
<ul>
<li>必须保证所有的()、单引号、双引号是成对结束的</li>
<li>必须使用英文状态下的半角输入方式</li>
<li>字符串型和日期时间类型的数据可以使用单引号（&rsquo; &lsquo;）表示</li>
<li>列的别名，尽量使用双引号（&rdquo; &ldquo;），而且不建议省略as</li>
</ul>
</li>
</ul>
<h3 id="2-sql大小写规范建议遵守">2) SQL大小写规范（建议遵守）</h3>
<ul>
<li>MySQL 在 Windows 环境下是大小写不敏感的</li>
<li>MySQL 在 Linux 环境下是大小写敏感的
<ul>
<li>数据库名、表名、表的别名、变量名是严格区分大小写的</li>
<li>关键字、函数名、列名(或字段名)、列的别名(字段的别名) 是忽略大小写的。</li>
</ul>
</li>
<li>推荐采用统一的书写规范：
<ul>
<li>数据库名、表名、表别名、字段名、字段别名等都小写</li>
<li>SQL 关键字、函数名、绑定变量等都大写</li>
</ul>
</li>
</ul>
<h3 id="3-注释">3) 注释</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">单行注释：<span style="color:#6272a4">#注释文字(MySQL特有的方式)
</span><span style="color:#6272a4"></span>单行注释：<span style="color:#6272a4">-- 注释文字(--后面必须包含一个空格。)
</span><span style="color:#6272a4"></span>多行注释：<span style="color:#6272a4">/*</span><span style="color:#6272a4"> 注释文字 </span><span style="color:#6272a4">*/</span>
</code></pre></div><h3 id="4-命名规则">4) 命名规则</h3>
<ul>
<li>数据库、表名不得超过30个字符，变量名限制为29个</li>
<li>必须只能包含 A–Z, a–z, 0–9, _共63个字符</li>
<li>数据库名、表名、字段名等对象名中间不要包含空格 同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；</li>
<li>同一个表中，字段不能重名 必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使 用`（着重号）引起来</li>
<li>保持字段名和类型的一致性，在命名字段并为其指定数据类型的时候一定要保证一致性。假如数据 类型在一个表里是整数，那在另一个表里可就别变成字符型了</li>
</ul>
<h2 id="2-基本的select语句">2. 基本的SELECT语句</h2>
<h3 id="1-select--from">1) SELECT &hellip; FROM</h3>
<ul>
<li>语法</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> 标识选择哪些列
<span style="color:#ff79c6">FROM</span> 标识从哪个表中选择
</code></pre></div><ul>
<li>选择全部列</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span>
<span style="color:#ff79c6">FROM</span> departments;
</code></pre></div><ul>
<li>选择特定的列：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> department_id, location_id
<span style="color:#ff79c6">FROM</span> departments;
</code></pre></div><h3 id="2-列的别名">2) 列的别名</h3>
<ul>
<li>重命名一个列</li>
<li>便于计算</li>
<li>紧跟列名，也可以在列名和别名之间加入关键字AS，别名使用双引号，以便在别名中包含空格或特 殊的字符并区分大小写。</li>
<li>AS 可以省略</li>
<li>建议别名简短，见名知意</li>
<li>举例：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> last_name <span style="color:#ff79c6">AS</span> name, commission_pct comm
<span style="color:#ff79c6">FROM</span> employees;
</code></pre></div><h3 id="3-去除重复行">3) 去除重复行</h3>
<p>DISTINCT关键字</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">DISTINCT</span> department_id <span style="color:#ff79c6">FROM</span> employees;
</code></pre></div><h3 id="4-空值参与运算">4) 空值参与运算</h3>
<p>空值：null ( 不等同于0, ’ ‘, ’null‘ )</p>
<p>实际问题的解决方案：引入IFNULL</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id, salary <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#34;</span><span style="color:#f1fa8c">月工资</span><span style="color:#f1fa8c">&#34;</span>, salary <span style="color:#ff79c6">*</span> (<span style="color:#bd93f9">1</span> <span style="color:#ff79c6">+</span> <span style="color:#50fa7b">IFNULL</span>(commission_pct, <span style="color:#bd93f9">0</span>)) <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">12</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#34;</span><span style="color:#f1fa8c">年工资</span><span style="color:#f1fa8c">&#34;</span> <span style="color:#ff79c6">FROM</span> employees;
</code></pre></div><p>这里你一定要注意，在 MySQL 里面， 空值不等于空字符串。一个空字符串的长度是 0，而一个空值的长 度是空。而且，在 MySQL 里面，空值是占用空间的。</p>
<h3 id="5-着重号-">5) 着重号 ``</h3>
<p>必须保证你的字段没有和保留字、数据库系统或常见方法冲突。</p>
<p>如果坚持使用，在SQL语句中使用 ` ` 引起来。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> <span style="color:#ff79c6">`</span><span style="color:#ff79c6">order</span><span style="color:#ff79c6">`</span>;
</code></pre></div><h3 id="6-查询常数">6) 查询常数</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">小张科技</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">as</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#34;</span><span style="color:#f1fa8c">公司名</span><span style="color:#f1fa8c">&#34;</span>, employee_id, last_name <span style="color:#ff79c6">FROM</span> employees;
</code></pre></div><h2 id="3-显示表结构">3. 显示表结构</h2>
<p>显示表中字段的详细信息</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">DESCRIBE</span> employees;
或
<span style="color:#ff79c6">DESC</span> employees;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">desc</span> employees;
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> Field <span style="color:#ff79c6">|</span> Type <span style="color:#ff79c6">|</span> Null <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">Key</span> <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">Default</span> <span style="color:#ff79c6">|</span> Extra <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> employee_id <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">int</span>(<span style="color:#bd93f9">6</span>) <span style="color:#ff79c6">|</span> NO <span style="color:#ff79c6">|</span> PRI <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">0</span> <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> first_name <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">varchar</span>(<span style="color:#bd93f9">20</span>) <span style="color:#ff79c6">|</span> YES <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> last_name <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">varchar</span>(<span style="color:#bd93f9">25</span>) <span style="color:#ff79c6">|</span> NO <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> email <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">varchar</span>(<span style="color:#bd93f9">25</span>) <span style="color:#ff79c6">|</span> NO <span style="color:#ff79c6">|</span> UNI <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> phone_number <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">varchar</span>(<span style="color:#bd93f9">20</span>) <span style="color:#ff79c6">|</span> YES <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> hire_date <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">date</span> <span style="color:#ff79c6">|</span> NO <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> job_id <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">varchar</span>(<span style="color:#bd93f9">10</span>) <span style="color:#ff79c6">|</span> NO <span style="color:#ff79c6">|</span> MUL <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> salary <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">double</span>(<span style="color:#bd93f9">8</span>,<span style="color:#bd93f9">2</span>) <span style="color:#ff79c6">|</span> YES <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> commission_pct <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">double</span>(<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">2</span>) <span style="color:#ff79c6">|</span> YES <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> manager_id <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">int</span>(<span style="color:#bd93f9">6</span>) <span style="color:#ff79c6">|</span> YES <span style="color:#ff79c6">|</span> MUL <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">|</span> department_id <span style="color:#ff79c6">|</span> <span style="color:#8be9fd">int</span>(<span style="color:#bd93f9">4</span>) <span style="color:#ff79c6">|</span> YES <span style="color:#ff79c6">|</span> MUL <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">11</span> rows <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><p>其中，各个字段的含义分别解释如下：</p>
<ul>
<li>Field：表示字段名称。</li>
<li>Type：表示字段类型，这里 barcode、goodsname 是文本型的，price 是整数类型的。</li>
<li>Null：表示该列是否可以存储NULL值。</li>
<li>Key：表示该列是否已编制索引。</li>
<li>PRI表示该列是表主键的一部分；</li>
<li>UNI表示该列是UNIQUE索引的一 部分；</li>
<li>MUL表示在列中某个给定值允许出现多次。</li>
<li>Default：表示该列是否有默认值，如果有，那么值是多少。</li>
<li>Extra：表示可以获取的与给定列有关的附加信息，例如AUTO_INCREMENT等。</li>
</ul>
<h2 id="4-过滤数据">4. 过滤数据</h2>
<ul>
<li>语法：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> 字段<span style="color:#bd93f9">1</span>,字段<span style="color:#bd93f9">2</span>
<span style="color:#ff79c6">FROM</span> 表名
<span style="color:#ff79c6">WHERE</span> 过滤条件
</code></pre></div><p>使用WHERE 子句，将不满足条件的行过滤掉。WHERE子句紧随 FROM子句。</p>
<ul>
<li>举例：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id, last_name, job_id, department_id
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> department_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">90</span>;
</code></pre></div><h1 id="第四章_运算符">第四章_运算符</h1>
<p><strong>DUAL</strong> 伪表</p>
<h2 id="1-算术运算符">1. 算术运算符</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#bd93f9">100</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">0</span>, <span style="color:#bd93f9">100</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">50</span> <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">30</span>, <span style="color:#bd93f9">100</span> <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">35</span>.<span style="color:#bd93f9">5</span> <span style="color:#ff79c6">FROM</span> <span style="color:#ff79c6">DUAL</span>;
</code></pre></div><blockquote>
<ul>
<li>一个整数类型的值对整数进行加法和减法操作，结果还是一个整数；</li>
<li>一个整数类型的值对浮点数进行加法和减法操作，结果是一个浮点数；</li>
<li>在Java中， + 的左右两边如果有字符串，那么表示字符串的拼接。但是在MySQL中 + 只表示数值相加。如果遇到非数值类型，先尝试转成数值，如果转失败，就按0计算。（注：MySQL 中字符串拼接要使用字符串函数CONCAT()实现）</li>
<li>在数学运算中，0不能用作除数，在MySQL中，一个数除以0为NULL。</li>
</ul>
</blockquote>
<h2 id="2-比较运算符">2. 比较运算符</h2>
<h3 id="1-等号运算符">1) 等号运算符</h3>
<p>比较运算符用来对表达式左边的操作数和右边的操作数进行比较，比较的结果为真则返回1，比较的结果 为假则返回0，其他情况则返回NULL。</p>
<p>比较运算符经常被用来作为SELECT查询语句的条件来使用，返回符合条件的结果记录。</p>
<p>如果等号两边的值、字符串或表达式中有一个为NULL，则比较结果为NULL。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">1</span><span style="color:#f1fa8c">&#39;</span>, <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span>, <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>, (<span style="color:#bd93f9">5</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">3</span>) <span style="color:#ff79c6">=</span> (<span style="color:#bd93f9">2</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">6</span>), <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">=</span> NULL , NULL <span style="color:#ff79c6">=</span> NULL;
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">1</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span> <span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">|</span> (<span style="color:#bd93f9">5</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">3</span>) <span style="color:#ff79c6">=</span> (<span style="color:#bd93f9">2</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">6</span>) <span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">=</span> NULL <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">=</span> NULL <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>   <span style="color:#bd93f9">1</span>   <span style="color:#ff79c6">|</span>    <span style="color:#bd93f9">1</span>    <span style="color:#ff79c6">|</span>   <span style="color:#bd93f9">0</span>   <span style="color:#ff79c6">|</span>     <span style="color:#bd93f9">1</span>     <span style="color:#ff79c6">|</span>          <span style="color:#bd93f9">1</span>        <span style="color:#ff79c6">|</span>    NULL   <span style="color:#ff79c6">|</span>     NULL    <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">1</span> row <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">0</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">abc</span><span style="color:#f1fa8c">&#39;</span>, <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">abc</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">FROM</span> <span style="color:#ff79c6">DUAL</span>;
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">2</span> <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">0</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">abc</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">abc</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>   <span style="color:#bd93f9">0</span>   <span style="color:#ff79c6">|</span>     <span style="color:#bd93f9">1</span>     <span style="color:#ff79c6">|</span>     <span style="color:#bd93f9">0</span>     <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">1</span> row <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span>, <span style="color:#bd93f9">2</span> <span style="color:#50fa7b">warnings</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><blockquote>
<ul>
<li>如果等号两边的值、字符串或表达式都为字符串，则MySQL会按照字符串进行比较，其比较的 是每个字符串中字符的ANSI编码是否相等。</li>
<li>如果等号两边的值都是整数，则MySQL会按照整数来比较两个值的大小。</li>
<li>如果等号两边的值一个是整数，另一个是字符串，则MySQL会将字符串转化为数字进行比较。</li>
<li>如果等号两边的值、字符串或表达式中有一个为NULL，则比较结果为NULL。</li>
</ul>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">ysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">1</span><span style="color:#f1fa8c">&#39;</span>, <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">0</span>, <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>, (<span style="color:#bd93f9">5</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">3</span>) <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> (<span style="color:#bd93f9">2</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">6</span>), <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> NULL,NULL <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> NULL <span style="color:#ff79c6">FROM</span> <span style="color:#ff79c6">dual</span>;
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">1</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">0</span> <span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">|</span> (<span style="color:#bd93f9">5</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">3</span>) <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> (<span style="color:#bd93f9">2</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">6</span>) <span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> NULL <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">&gt;</span> NULL <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>     <span style="color:#bd93f9">1</span>     <span style="color:#ff79c6">|</span>    <span style="color:#bd93f9">0</span>    <span style="color:#ff79c6">|</span>      <span style="color:#bd93f9">1</span>      <span style="color:#ff79c6">|</span>           <span style="color:#bd93f9">1</span>         <span style="color:#ff79c6">|</span>      <span style="color:#bd93f9">0</span>      <span style="color:#ff79c6">|</span>       <span style="color:#bd93f9">1</span>       <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">1</span> row <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><p>可以看到，使用安全等于运算符时，两边的操作数的值都为NULL时，返回的结果为1而不是NULL，其他返回结果与等于运算符相同。</p>
<h3 id="2-不等于运算符">2) 不等于运算符</h3>
<p>不等于运算符（&lt;&gt;和!=）用于判断两边的数字、字符串或者表达式的值是否不相等， 如果不相等则返回1，相等则返回0。不等于运算符不能判断NULL值。如果两边的值有任意一个为NULL， 或两边都为NULL，则结果为NULL。 SQL语句示例如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">!</span><span style="color:#ff79c6">=</span> <span style="color:#bd93f9">2</span>, <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">!</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>, (<span style="color:#bd93f9">3</span><span style="color:#ff79c6">+</span><span style="color:#bd93f9">4</span>) <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">&gt;</span> (<span style="color:#bd93f9">2</span><span style="color:#ff79c6">+</span><span style="color:#bd93f9">6</span>), <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">!</span><span style="color:#ff79c6">=</span> NULL, NULL <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">&gt;</span> NULL;
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">!</span><span style="color:#ff79c6">=</span> <span style="color:#bd93f9">2</span> <span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">!</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">|</span> (<span style="color:#bd93f9">3</span><span style="color:#ff79c6">+</span><span style="color:#bd93f9">4</span>) <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">&gt;</span> (<span style="color:#bd93f9">2</span><span style="color:#ff79c6">+</span><span style="color:#bd93f9">6</span>) <span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">!</span><span style="color:#ff79c6">=</span> NULL <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">&gt;</span> NULL <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>    <span style="color:#bd93f9">0</span>   <span style="color:#ff79c6">|</span>    <span style="color:#bd93f9">1</span>   <span style="color:#ff79c6">|</span>      <span style="color:#bd93f9">1</span>     <span style="color:#ff79c6">|</span>        <span style="color:#bd93f9">1</span>       <span style="color:#ff79c6">|</span>     NULL    <span style="color:#ff79c6">|</span>      NULL    <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">1</span> row <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><p>此外，还有非符号类型的运算符：</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8iq18xa4rj30pw0hf0yp.jpg" alt="image-20220531154418141.png">

</p>
<h3 id="3-空运算符">3) 空运算符</h3>
<p>空运算符 (IS NULL 或者 ISNULL) 判断一个值是否为NULL，如果为NULL则返回1，否则返回0。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> NULL <span style="color:#ff79c6">IS</span> NULL, <span style="color:#50fa7b">ISNULL</span>(NULL), <span style="color:#50fa7b">ISNULL</span>(<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>), <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">IS</span> NULL;
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">IS</span> NULL <span style="color:#ff79c6">|</span> <span style="color:#50fa7b">ISNULL</span>(NULL) <span style="color:#ff79c6">|</span> <span style="color:#50fa7b">ISNULL</span>(<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>) <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">IS</span> NULL <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>      <span style="color:#bd93f9">1</span>       <span style="color:#ff79c6">|</span>       <span style="color:#bd93f9">1</span>      <span style="color:#ff79c6">|</span>      <span style="color:#bd93f9">0</span>      <span style="color:#ff79c6">|</span>     <span style="color:#bd93f9">0</span>     <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">1</span> row <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><h3 id="4-非空运算符">4) 非空运算符</h3>
<p>非空运算符（IS NOT NULL）判断一个值是否不为NULL，如果不为NULL则返回1，否则返回0。</p>
<h3 id="5-最小值运算符">5) 最小值运算符</h3>
<p>语法格式为：LEAST(值1，值2，&hellip;，值n)。其中，“值n”表示参数列表中有n个值。在有 两个或多个参数的情况下，返回最小值。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">LEAST</span> (<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">0</span>,<span style="color:#bd93f9">2</span>), <span style="color:#50fa7b">LEAST</span>(<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">c</span><span style="color:#f1fa8c">&#39;</span>), <span style="color:#50fa7b">LEAST</span>(<span style="color:#bd93f9">1</span>,NULL,<span style="color:#bd93f9">2</span>);
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> <span style="color:#50fa7b">LEAST</span> (<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">0</span>,<span style="color:#bd93f9">2</span>) <span style="color:#ff79c6">|</span> <span style="color:#50fa7b">LEAST</span>(<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">c</span><span style="color:#f1fa8c">&#39;</span>) <span style="color:#ff79c6">|</span> <span style="color:#50fa7b">LEAST</span>(<span style="color:#bd93f9">1</span>,NULL,<span style="color:#bd93f9">2</span>) <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>       <span style="color:#bd93f9">0</span>       <span style="color:#ff79c6">|</span>          a         <span style="color:#ff79c6">|</span>        NULL     <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">1</span> row <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><p>由结果可以看到，当参数是整数或者浮点数时，LEAST将返回其中最小的值；当参数为字符串时，返回字 母表中顺序最靠前的字符；当比较值列表中有NULL时，不能判断大小，返回值为NULL。</p>
<h3 id="6-最大值运算符">6) 最大值运算符</h3>
<p>语法格式为：GREATEST(值1，值2，&hellip;，值n)。其中，n表示参数列表中有n个值。当有 两个或多个参数时，返回值为最大值。假如任意一个自变量为NULL，则GREATEST()的返回值为NULL。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">GREATEST</span>(<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">0</span>,<span style="color:#bd93f9">2</span>), <span style="color:#50fa7b">GREATEST</span>(<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">c</span><span style="color:#f1fa8c">&#39;</span>), <span style="color:#50fa7b">GREATEST</span>(<span style="color:#bd93f9">1</span>,NULL,<span style="color:#bd93f9">2</span>);
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> <span style="color:#50fa7b">GREATEST</span>(<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">0</span>,<span style="color:#bd93f9">2</span>) <span style="color:#ff79c6">|</span> <span style="color:#50fa7b">GREATEST</span>(<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">c</span><span style="color:#f1fa8c">&#39;</span>) <span style="color:#ff79c6">|</span> <span style="color:#50fa7b">GREATEST</span>(<span style="color:#bd93f9">1</span>,NULL,<span style="color:#bd93f9">2</span>) <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>         <span style="color:#bd93f9">2</span>       <span style="color:#ff79c6">|</span>             c         <span style="color:#ff79c6">|</span>         NULL       <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#bd93f9">1</span> row <span style="color:#ff79c6">in</span> <span style="color:#8be9fd">set</span> (<span style="color:#bd93f9">0</span>.<span style="color:#bd93f9">00</span> sec)
</code></pre></div><p>由结果可以看到，当参数中是整数或者浮点数时，GREATEST将返回其中最大的值；当参数为字符串时， 返回字母表中顺序最靠后的字符；当比较值列表中有NULL时，不能判断大小，返回值为NULL。</p>
<h3 id="7-between-and运算符">7) BETWEEN AND运算符</h3>
<p>BETWEEN运算符使用的格式通常为SELECT D FROM TABLE WHERE C BETWEEN A AND B，此时，当C大于或等于A，并且C小于或等于B时，结果为1，否则结果为0。</p>
<h3 id="8-in运算符">8) IN运算符</h3>
<p>IN运算符用于判断给定的值是否是IN列表中的一个值，如果是则返回1，否则返回0。如果给 定的值为NULL，或者IN列表中存在NULL，则结果为NULL。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">mysql<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">IN</span> (<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">c</span><span style="color:#f1fa8c">&#39;</span>), <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">IN</span> (<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>), NULL <span style="color:#ff79c6">IN</span> (<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>), <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">IN</span> (<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>, NULL);
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">IN</span> (<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">c</span><span style="color:#f1fa8c">&#39;</span>) <span style="color:#ff79c6">|</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">IN</span> (<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>) <span style="color:#ff79c6">|</span> NULL <span style="color:#ff79c6">IN</span> (<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>,<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">b</span><span style="color:#f1fa8c">&#39;</span>) <span style="color:#ff79c6">|</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">IN</span> (<span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">a</span><span style="color:#f1fa8c">&#39;</span>, NULL) <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
<span style="color:#ff79c6">|</span>            <span style="color:#bd93f9">1</span>         <span style="color:#ff79c6">|</span>      <span style="color:#bd93f9">0</span>     <span style="color:#ff79c6">|</span>         NULL      <span style="color:#ff79c6">|</span>          <span style="color:#bd93f9">1</span>         <span style="color:#ff79c6">|</span>
<span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span><span style="color:#ff79c6">+</span>
</code></pre></div><h3 id="9-not-in运算符">9) NOT IN运算符</h3>
<p>NOT IN运算符用于判断给定的值是否不是IN列表中的一个值，如果不是IN列表中的一 个值，则返回1，否则返回0。</p>
<h3 id="10-like运算符">10) LIKE运算符</h3>
<p>LIKE运算符主要用来匹配字符串，通常用于模糊匹配，如果满足条件则返回1，否则返回 0。如果给定的值或者匹配条件为NULL，则返回结果为NULL。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">“<span style="color:#ff79c6">%</span>”：匹配<span style="color:#bd93f9">0</span>个或多个字符。
“_”：只能匹配一个字符。
</code></pre></div><h3 id="11-escape">11) ESCAPE</h3>
<p>回避特殊符号的：使用转义符。例如：将[%]转为[$%]、[]转为[$]，然后再加上[ESCAPE‘$’]即可。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> job_id
<span style="color:#ff79c6">FROM</span> jobs
<span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">LIKE</span> ‘IT\_<span style="color:#ff79c6">%</span>‘;
</code></pre></div><p>如果使用\表示转义，要省略ESCAPE。如果不是\，则要加上ESCAPE。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> job_id
<span style="color:#ff79c6">FROM</span> jobs
<span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">LIKE</span> ‘IT$_<span style="color:#ff79c6">%</span>‘ escape ‘$‘;
</code></pre></div><h3 id="12-regexp运算符">12) REGEXP运算符</h3>
<p>REGEXP运算符用来匹配字符串，语法格式为： expr REGEXP 匹配条件 。</p>
<blockquote>
<p>（1）‘^’匹配以该字符后面的字符开头的字符串。</p>
<p>（2）‘$’匹配以该字符前面的字符结尾的字符串。</p>
<p>（3）‘.’匹配任何一个单字符。</p>
<p>（4）“[&hellip;]”匹配在方括号内的任何字符。例如，“[abc]”匹配“a”或“b”或“c”。为了命名字符的范围，使用一 个‘-’。“[a-z]”匹配任何字母，而“[0-9]”匹配任何数字。</p>
<p>（5）‘<em>’匹配零个或多个在它前面的字符。例如，“x</em>”匹配任何数量的‘x’字符，“[0-9]<em>”匹配任何数量的数字， 而“</em>”匹配任何数量的任何字符。</p>
</blockquote>
<h2 id="3-逻辑运算符">3. 逻辑运算符</h2>
<p>逻辑运算符主要用来判断表达式的真假，在MySQL中，逻辑运算符的返回结果为1、0或者NULL。</p>
<p>MySQL中支持4种逻辑运算符如下：</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8iq1js7d4j30pz06jq43.jpg" alt="image-20220531195405333.png">

</p>
<h2 id="4-位运算">4. 位运算</h2>
<p>位运算符是在二进制数上进行计算的运算符。位运算符会先将操作数变成二进制数，然后进行位运算， 最后将计算结果从二进制变回十进制数。</p>
<p>MySQL支持的位运算符如下：</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8iq1pt84jj30pw074myg.jpg" alt="image-20220531195442995.png">

</p>
<h2 id="5-运算符的优先级">5. 运算符的优先级</h2>
<p>数字编号越大，优先级越高，优先级高的运算符先进行计算。</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8iq1w5g6qj30q00gtjtl.jpg" alt="image-20220531195522668.png">

</p>
<h2 id="扩展使用正则表达式查询">扩展：使用正则表达式查询</h2>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8iq21npqzj30py0iewkc.jpg" alt="image-20220531204253508.png">

</p>
<h1 id="第五章_排序与分页">第五章_排序与分页</h1>
<h2 id="1-排序规则">1. 排序规则</h2>
<ul>
<li>
<p>使用 ORDER BY 子句排序</p>
<ul>
<li>ASC（ascend）: 升序</li>
<li>DESC（descend）:降序</li>
</ul>
</li>
<li>
<p>ORDER BY 子句在SELECT语句的结尾。</p>
</li>
</ul>
<h3 id="1-单列排序">1) 单列排序</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> last_name, job_id, department_id, hire_date
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> hire_date;
</code></pre></div><h3 id="2-多列排序">2) 多列排序</h3>
<ul>
<li>可以使用不在SELECT列表中的列排序。</li>
<li>在对多列进行排序的时候，首先排序的第一列必须有相同的列值，才会对第二列进行排序。如果第 一列数据中所有值都是唯一的，将不再对第二列进行排序。</li>
</ul>
<h2 id="2-分页">2. 分页</h2>
<ul>
<li>格式：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">LIMIT</span> [位置偏移量,] 行数
</code></pre></div><ul>
<li>举例：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span>前<span style="color:#bd93f9">10</span>条记录：
<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> 表名 <span style="color:#ff79c6">LIMIT</span> <span style="color:#bd93f9">0</span>,<span style="color:#bd93f9">10</span>;
或者
<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> 表名 <span style="color:#ff79c6">LIMIT</span> <span style="color:#bd93f9">10</span>;
<span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span>第<span style="color:#bd93f9">11</span>至<span style="color:#bd93f9">20</span>条记录：
<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> 表名 <span style="color:#ff79c6">LIMIT</span> <span style="color:#bd93f9">10</span>,<span style="color:#bd93f9">10</span>;
<span style="color:#ff79c6">-</span><span style="color:#ff79c6">-</span>第<span style="color:#bd93f9">21</span>至<span style="color:#bd93f9">30</span>条记录：
<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> 表名 <span style="color:#ff79c6">LIMIT</span> <span style="color:#bd93f9">20</span>,<span style="color:#bd93f9">10</span>;
</code></pre></div><blockquote>
<p>MySQL 8.0中可以使用“LIMIT 3 OFFSET 4”，意思是获取从第5条记录开始后面的3条记录，和“LIMIT 4,3;”返回的结果相同。</p>
</blockquote>
<ul>
<li>分页显式公式：（当前页数-1）* 每页条数，每页条数</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> <span style="color:#ff79c6">table</span>
<span style="color:#ff79c6">LIMIT</span>(PageNo <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">1</span>) <span style="color:#ff79c6">*</span> PageSize, PageSize;
</code></pre></div><ul>
<li>
<p>注意：LIMIT 子句必须放在整个SELECT语句的最后！</p>
</li>
<li>
<p>使用LIMIT的好处</p>
</li>
</ul>
<p>约束返回结果的数量可以 减少数据表的网络传输量 ，也可以 提升查询效率 。如果我们知道返回结果只有 1 条，就可以使用 LIMIT 1 ，告诉 SELECT 语句只需要返回一条记录即可。这样的好处就是 SELECT 不需 要扫描完整的表，只需要检索到一条符合条件的记录即可返回。</p>
<h1 id="第六章_多表查询">第六章_多表查询</h1>
<h2 id="1-多表查询分类讲解">1. 多表查询分类讲解</h2>
<h3 id="1-自连接">1) 自连接</h3>
<p>题目：查询employees表，返回 &lt;员工 works for 老板&gt;</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">CONCAT</span>(worker.last_name , <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c"> works for </span><span style="color:#f1fa8c">&#39;</span>, manager.last_name)
<span style="color:#ff79c6">FROM</span> employees worker, employees manager
<span style="color:#ff79c6">WHERE</span> worker.manager_id <span style="color:#ff79c6">=</span> manager.employee_id;
</code></pre></div><h3 id="2-内连接与外连接">2) 内连接与外连接</h3>
<ul>
<li>内连接: 合并具有同一列的两个以上的表的行, 结果集中不包含一个表与另一个表不匹配的行</li>
</ul>
<p><strong>SQL92语法</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> emp.employee_id, dep.department_name
<span style="color:#ff79c6">FROM</span> employee emp, department dep
<span style="color:#ff79c6">WHERE</span> emp.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> dep.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;
</code></pre></div><p><strong>SQL99语法</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> emp.employee_id, dep.department_name
<span style="color:#ff79c6">FROM</span> employee emp <span style="color:#ff79c6">JOIN</span> department dep
<span style="color:#ff79c6">ON</span> emp.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> dep.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;
</code></pre></div><ul>
<li>外连接: 两个表在连接过程中除了返回满足连接条件的行以外还返回左（或右）表中不满足条件的 行 ，这种连接称为左（或右） 外连接。没有匹配的行时, 结果表中相应的列为空(NULL)。</li>
<li>如果是左外连接，则连接条件中左边的表也称为 主表 ，右边的表称为 从表 。</li>
</ul>
<p><strong>LEFT OUTER JOIN</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> last_name, department_name
<span style="color:#ff79c6">FROM</span> employees emp <span style="color:#ff79c6">LEFT</span> <span style="color:#ff79c6">OUTER</span> <span style="color:#ff79c6">JOIN</span> department dep
<span style="color:#ff79c6">ON</span> emp.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> dep.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;
</code></pre></div><ul>
<li>如果是右外连接，则连接条件中右边的表也称为 主表 ，左边的表称为 从表 。</li>
</ul>
<p><strong>RIGHT OUTER JOIN</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> last_name, department_name
<span style="color:#ff79c6">FROM</span> employees emp <span style="color:#ff79c6">RIGHT</span> <span style="color:#ff79c6">OUTER</span> <span style="color:#ff79c6">JOIN</span> department dep
<span style="color:#ff79c6">ON</span> emp.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> dep.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;
</code></pre></div><h2 id="2-union的使用">2. UNION的使用</h2>
<p><strong>合并查询结果</strong></p>
<p>利用UNION关键字，可以给出多条SELECT语句，并将它们的结果组合成单个结果集。合并 时，两个表对应的列数和数据类型必须相同，并且相互对应。各个SELECT语句之间使用UNION或UNION ALL关键字分隔。</p>
<p>语法格式：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">column</span>,... <span style="color:#ff79c6">FROM</span> table1
<span style="color:#ff79c6">UNION</span> [<span style="color:#ff79c6">ALL</span>]
<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">column</span>,... <span style="color:#ff79c6">FROM</span> table2
</code></pre></div><p><strong>UNION操作符</strong></p>
<p>UNION 操作符返回两个查询的结果集的并集，去除重复记录。</p>
<p><strong>UNION ALL操作符</strong></p>
<p>UNION ALL操作符返回两个查询的结果集的并集。对于两个结果集的重复部分，不去重。</p>
<blockquote>
<p>注意：执行UNION ALL语句时所需要的资源比UNION语句少。如果明确知道合并数据后的结果数据不存在重复数据，或者不需要去除重复的数据，则尽量使用UNION ALL语句，以提高数据查询的效率。</p>
</blockquote>
<p>举例：查询部门编号&gt;90或邮箱包含a的员工信息</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4">#方式1
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> employees <span style="color:#ff79c6">WHERE</span> email <span style="color:#ff79c6">LIKE</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">%a%</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">OR</span> department_id<span style="color:#ff79c6">&gt;</span><span style="color:#bd93f9">90</span>;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4">#方式2
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> employees <span style="color:#ff79c6">WHERE</span> email <span style="color:#ff79c6">LIKE</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">%a%</span><span style="color:#f1fa8c">&#39;</span>
<span style="color:#ff79c6">UNION</span>
<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> employees <span style="color:#ff79c6">WHERE</span> department_id<span style="color:#ff79c6">&gt;</span><span style="color:#bd93f9">90</span>;
</code></pre></div><p>举例：查询中国用户中男性的信息以及美国用户中年男性的用户信息</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> id,cname <span style="color:#ff79c6">FROM</span> t_chinamale <span style="color:#ff79c6">WHERE</span> csex<span style="color:#ff79c6">=</span><span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">男</span><span style="color:#f1fa8c">&#39;</span>
<span style="color:#ff79c6">UNION</span> <span style="color:#ff79c6">ALL</span>
<span style="color:#ff79c6">SELECT</span> id,tname <span style="color:#ff79c6">FROM</span> t_usmale <span style="color:#ff79c6">WHERE</span> tGender<span style="color:#ff79c6">=</span><span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">male</span><span style="color:#f1fa8c">&#39;</span>;
</code></pre></div><h2 id="3七种sql-joins的实现">3.七种SQL JOINS的实现</h2>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8iq2gmn8sj30rn0k9qc0.jpg" alt="image-20220531224324213.png">

</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4"># 中图：内连接
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;

<span style="color:#6272a4"># 左上图：左外连接
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">LEFT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;

<span style="color:#6272a4"># 右上图：右外连接
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">RIGHT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;

<span style="color:#6272a4"># 左中图：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">LEFT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">WHERE</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">IS</span> NULL;

<span style="color:#6272a4"># 右中图：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">RIGHT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">WHERE</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">IS</span> NULL;


<span style="color:#6272a4"># 左下图：满外连接
</span><span style="color:#6272a4"></span><span style="color:#6272a4"># 方式1：左上图 UNION ALL 右中图
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">LEFT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">UNION</span> <span style="color:#ff79c6">ALL</span>
<span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">RIGHT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">WHERE</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">IS</span> NULL;


<span style="color:#6272a4"># 方式2：左中图 UNION ALL 右上图
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">LEFT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">WHERE</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">IS</span> NULL
<span style="color:#ff79c6">UNION</span> <span style="color:#ff79c6">ALL</span>
<span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">RIGHT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>;

<span style="color:#6272a4"># 右下图：左中图  UNION ALL 右中图
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">LEFT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">WHERE</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">IS</span> NULL
<span style="color:#ff79c6">UNION</span> <span style="color:#ff79c6">ALL</span>
<span style="color:#ff79c6">SELECT</span> employee_id,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">RIGHT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">WHERE</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">IS</span> NULL;
</code></pre></div><h2 id="4-sql99语法的新特性">4. SQL99语法的新特性</h2>
<h3 id="1-自然连接">1) 自然连接</h3>
<p>SQL99 在 SQL92 的基础上提供了一些特殊语法，比如 NATURAL JOIN 用来表示自然连接。我们可以把 自然连接理解为 SQL92 中的等值连接。它会帮你自动查询两张连接表中 所有相同的字段 ，然后进行 等值 连接 。</p>
<p>在SQL92标准中：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id,last_name,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">AND</span> e.<span style="color:#ff79c6">`</span>manager_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>manager_id<span style="color:#ff79c6">`</span>;
</code></pre></div><p>在 SQL99 中你可以写成：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id,last_name,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">NATURAL</span> <span style="color:#ff79c6">JOIN</span> departments d;
</code></pre></div><h3 id="2-using连接">2) USING连接</h3>
<p>当我们进行连接的时候，SQL99还支持使用 USING 指定数据表里的 同名字段 进行等值连接。但是只能配 合JOIN一起使用。比如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id,last_name,department_name
<span style="color:#ff79c6">FROM</span> employees e <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">USING</span> (department_id);
</code></pre></div><p>你能看出与自然连接 NATURAL JOIN 不同的是，USING 指定了具体的相同的字段名称，你需要在 USING 的括号 () 中填入要指定的同名字段。同时使用 JOIN&hellip;USING 可以简化 JOIN ON 的等值连接。它与下 面的 SQL 查询结果是相同的：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id,last_name,department_name
<span style="color:#ff79c6">FROM</span> employees e ,departments d
<span style="color:#ff79c6">WHERE</span> e.department_id <span style="color:#ff79c6">=</span> d.department_id;
</code></pre></div><h2 id="5-小结">5. 小结</h2>
<p>表连接的约束条件可以有三种方式：WHERE, ON, USING</p>
<ul>
<li>WHERE：适用于所有关联查询</li>
<li>ON ：只能和JOIN一起使用，只能写关联条件。虽然关联条件可以并到WHERE中和其他条件一起 写，但分开写可读性更好。</li>
<li>USING：只能和JOIN一起使用，而且要求两个关联字段在关联表中名称一致，而且只能表示关联字 段值相等</li>
</ul>
<blockquote>
<p>我们要控制连接表的数量 。</p>
<p>多表连接就相当于嵌套 for 循环一样，非常消耗资源，会让 SQL 查询性能下 降得很严重，因此不要连接不必要的表。</p>
<p>在许多 DBMS 中，也都会有最大连接表的限制。</p>
</blockquote>
<h1 id="第七章_单行函数">第七章_单行函数</h1>
<h2 id="1-数值函数">1. 数值函数</h2>
<h3 id="1-基本函数">1) 基本函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABS(x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td>SIGN(X)</td>
<td>单元格</td>
</tr>
<tr>
<td>PI()</td>
<td>返回圆周率的值</td>
</tr>
<tr>
<td>CEIL(x)，CEILING(x)</td>
<td>返回大于或等于某个值的最小整数</td>
</tr>
<tr>
<td>FLOOR(x)</td>
<td>返回小于或等于某个值的最大整数</td>
</tr>
<tr>
<td>LEAST(e1,e2,e3…)</td>
<td>返回列表中的最小值</td>
</tr>
<tr>
<td>GREATEST(e1,e2,e3…)</td>
<td>返回列表中的最大值</td>
</tr>
<tr>
<td>MOD(x,y)</td>
<td>返回X除以Y后的余数</td>
</tr>
<tr>
<td>RAND()</td>
<td>返回0~1的随机值</td>
</tr>
<tr>
<td>RAND(x)</td>
<td>返回0~1的随机值，其中x的值用作种子值，相同的X值会产生相同的随机 数</td>
</tr>
<tr>
<td>ROUND(x)</td>
<td>返回一个对x的值进行四舍五入后，最接近于X的整数</td>
</tr>
<tr>
<td>ROUND(x,y)</td>
<td>返回一个对x的值进行四舍五入后最接近X的值，并保留到小数点后面Y位</td>
</tr>
<tr>
<td>TRUNCATE(x,y)</td>
<td>返回数字x截断为y位小数的结果</td>
</tr>
<tr>
<td>SQRT(x)</td>
<td>返回x的平方根。当X的值为负数时，返回NULL</td>
</tr>
</tbody>
</table>
<h3 id="2-角度与弧度互换函数">2) 角度与弧度互换函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>RADIANS(x)</td>
<td>将角度转化为弧度，其中，参数x为角度值</td>
</tr>
<tr>
<td>DEGREES(x)</td>
<td>将弧度转化为角度，其中，参数x为弧度值</td>
</tr>
</tbody>
</table>
<h3 id="3-三角函数">3) 三角函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIN(x)</td>
<td>将角度转化为弧度，其中，参数x为角度值</td>
</tr>
<tr>
<td>ASIN(x)</td>
<td>将弧度转化为角度，其中，参数x为弧度值</td>
</tr>
<tr>
<td>COS(x)</td>
<td>返回x的余弦值，其中，参数x为弧度值</td>
</tr>
<tr>
<td>ACOS(x)</td>
<td>返回x的反余弦值，即获取余弦为x的值。如果x的值不在-1到1之间，则返回NULL</td>
</tr>
<tr>
<td>TAN(x)</td>
<td>返回x的正切值，其中，参数x为弧度值</td>
</tr>
<tr>
<td>ATAN(x)</td>
<td>返回x的反正切值，即返回正切值为x的值</td>
</tr>
<tr>
<td>ATAN2(m,n)</td>
<td>返回两个参数的反正切值</td>
</tr>
<tr>
<td>COT(x)</td>
<td>返回x的余切值，其中，X为弧度值</td>
</tr>
</tbody>
</table>
<h3 id="4-指数与对数函数">4) 指数与对数函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>POW(x,y)，POWER(X,Y)</td>
<td>返回x的y次方</td>
</tr>
<tr>
<td>EXP(X)</td>
<td>返回e的X次方，其中e是一个常数，2.718281828459045</td>
</tr>
<tr>
<td>LN(X)，LOG(X)</td>
<td>返回以e为底的X的对数，当X &lt;= 0 时，返回的结果为NULL</td>
</tr>
<tr>
<td>LOG10(X)</td>
<td>返回以10为底的X的对数，当X &lt;= 0 时，返回的结果为NULL</td>
</tr>
<tr>
<td>LOG2(X)</td>
<td>返回以2为底的X的对数，当X &lt;= 0 时，返回NULL</td>
</tr>
</tbody>
</table>
<h3 id="5-进制间的转换">5) 进制间的转换</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>BIN(x)</td>
<td>返回x的二进制编码</td>
</tr>
<tr>
<td>HEX(x)</td>
<td>返回x的十六进制编码</td>
</tr>
<tr>
<td>OCT(x)</td>
<td>返回x的八进制编码</td>
</tr>
<tr>
<td>CONV(x,f1,f2)</td>
<td>返回f1进制数变成f2进制数</td>
</tr>
</tbody>
</table>
<h2 id="2-字符串函数">2. 字符串函数</h2>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCII(S)</td>
<td>返回字符串S中的第一个字符的ASCII码值</td>
</tr>
<tr>
<td>CHAR_LENGTH(s)</td>
<td>返回字符串s的字符数。作用与CHARACTER_LENGTH(s)相同</td>
</tr>
<tr>
<td>LENGTH(s)</td>
<td>返回字符串s的字节数，和字符集有关</td>
</tr>
<tr>
<td>CONCAT(s1,s2,&hellip;&hellip;,sn)</td>
<td>连接s1,s2,&hellip;&hellip;,sn为一个字符串</td>
</tr>
<tr>
<td>CONCAT_WS(x, s1,s2,&hellip;&hellip;,sn)</td>
<td>同CONCAT(s1,s2,&hellip;)函数，但是每个字符串之间要加上x</td>
</tr>
<tr>
<td>INSERT(str, idx, len, replacestr)</td>
<td>将字符串str从第idx位置开始，len个字符长的子串替换为字符串replacestr</td>
</tr>
<tr>
<td>REPLACE(str, a, b)</td>
<td>用字符串b替换字符串str中所有出现的字符串a</td>
</tr>
<tr>
<td>UPPER(s) 或 UCASE(s)</td>
<td>将字符串s的所有字母转成大写字母</td>
</tr>
<tr>
<td>LOWER(s) 或LCASE(s)</td>
<td>将字符串s的所有字母转成小写字母</td>
</tr>
<tr>
<td>LEFT(str,n)</td>
<td>返回字符串str最左边的n个字符</td>
</tr>
<tr>
<td>RIGHT(str,n)</td>
<td>返回字符串str最右边的n个字符</td>
</tr>
<tr>
<td>LPAD(str, len, pad)</td>
<td>用字符串pad对str最左边进行填充，直到str的长度为len个字符</td>
</tr>
<tr>
<td>RPAD(str ,len, pad)</td>
<td>用字符串pad对str最右边进行填充，直到str的长度为len个字符</td>
</tr>
<tr>
<td>LTRIM(s)</td>
<td>去掉字符串s左侧的空格</td>
</tr>
<tr>
<td>RTRIM(s)</td>
<td>去掉字符串s右侧的空格</td>
</tr>
<tr>
<td>TRIM(s)</td>
<td>去掉字符串s开始与结尾的空格</td>
</tr>
<tr>
<td>TRIM(s1 FROM s)</td>
<td>去掉字符串s开始与结尾的s1</td>
</tr>
<tr>
<td>TRIM(LEADING s1 FROM s)</td>
<td>去掉字符串s开始处的s1</td>
</tr>
<tr>
<td>TRIM(TRAILING s1 FROM s)</td>
<td>去掉字符串s结尾处的s1</td>
</tr>
<tr>
<td>REPEAT(str, n)</td>
<td>返回str重复n次的结果</td>
</tr>
<tr>
<td>SPACE(n)</td>
<td>返回n个空格</td>
</tr>
<tr>
<td>STRCMP(s1,s2)</td>
<td>比较字符串s1,s2的ASCII码值的大小</td>
</tr>
<tr>
<td>SUBSTR(s,index,len)</td>
<td>返回从字符串s的index位置其len个字符，作用与SUBSTRING(s,n,len)、 MID(s,n,len)相同</td>
</tr>
<tr>
<td>LOCATE(substr,str)</td>
<td>返回字符串substr在字符串str中首次出现的位置，作用于POSITION(substr IN str)、INSTR(str,substr)相同。未找到，返回0</td>
</tr>
<tr>
<td>ELT(m,s1,s2,…,sn)</td>
<td>返回指定位置的字符串，如果m=1，则返回s1，如果m=2，则返回s2，如果m=n，则返回sn</td>
</tr>
<tr>
<td>FIELD(s,s1,s2,…,sn)</td>
<td>返回字符串s在字符串列表中第一次出现的位置</td>
</tr>
<tr>
<td>FIND_IN_SET(s1,s2)</td>
<td>返回字符串s1在字符串s2中出现的位置。其中，字符串s2是一个以逗号分隔的字符串</td>
</tr>
<tr>
<td>REVERSE(s)</td>
<td>返回s反转后的字符串</td>
</tr>
<tr>
<td>NULLIF(value1,value2)</td>
<td>比较两个字符串，如果value1与value2相等，则返回NULL，否则返回 value1</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意：MySQL中，字符串的位置是从1开始的。</p>
</blockquote>
<h2 id="3-日期和时间函数">3. 日期和时间函数</h2>
<h3 id="1-获取日期时间">1) 获取日期、时间</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>CURDATE() ，CURRENT_DATE()</td>
<td>返回当前日期，只包含年、 月、日</td>
</tr>
<tr>
<td>CURTIME() ， CURRENT_TIME()</td>
<td>返回当前时间，只包含时、 分、秒</td>
</tr>
<tr>
<td>NOW() / SYSDATE() / CURRENT_TIMESTAMP() / LOCALTIME() / LOCALTIMESTAMP()</td>
<td>返回当前系统日期和时间</td>
</tr>
<tr>
<td>UTC_DATE()</td>
<td>返回UTC（世界标准时间） 日期</td>
</tr>
<tr>
<td>UTC_TIME()</td>
<td>返回UTC（世界标准时间） 时间</td>
</tr>
</tbody>
</table>
<h3 id="2-日期与时间戳的转换">2) 日期与时间戳的转换</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>UNIX_TIMESTAMP()</td>
<td>以UNIX时间戳的形式返回当前时间。SELECT UNIX_TIMESTAMP() - &gt;1634348884</td>
</tr>
<tr>
<td>UNIX_TIMESTAMP(date)</td>
<td>将时间date以UNIX时间戳的形式返回。</td>
</tr>
<tr>
<td>FROM_UNIXTIME(timestamp)</td>
<td>将UNIX时间戳的时间转换为普通格式的时间</td>
</tr>
</tbody>
</table>
<h3 id="3-获取月份星期星期数天数等函数">3) 获取月份、星期、星期数、天数等函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>YEAR(date) / MONTH(date) / DAY(date)</td>
<td>返回具体的日期值</td>
</tr>
<tr>
<td>HOUR(time) / MINUTE(time) / SECOND(time)</td>
<td>返回具体的时间值</td>
</tr>
<tr>
<td>FROM_UNIXTIME(timestamp)</td>
<td>将UNIX时间戳的时间转换为普通格式的时间</td>
</tr>
<tr>
<td>MONTHNAME(date)</td>
<td>返回月份：January，&hellip;</td>
</tr>
<tr>
<td>DAYNAME(date)</td>
<td>返回星期几：MONDAY，TUESDAY&hellip;..SUNDAY</td>
</tr>
<tr>
<td>WEEKDAY(date)</td>
<td>返回周几，注意，周1是0，周2是1，。。。周日是6</td>
</tr>
<tr>
<td>QUARTER(date)</td>
<td>返回日期对应的季度，范围为1～4</td>
</tr>
<tr>
<td>WEEK(date) ， WEEKOFYEAR(date)</td>
<td>返回一年中的第几周</td>
</tr>
<tr>
<td>DAYOFYEAR(date)</td>
<td>返回日期是一年中的第几天</td>
</tr>
<tr>
<td>DAYOFMONTH(date)</td>
<td>返回日期位于所在月份的第几天</td>
</tr>
<tr>
<td>DAYOFWEEK(date)</td>
<td>返回周几，注意：周日是1，周一是2，。。。周六是 7</td>
</tr>
</tbody>
</table>
<h3 id="4-日期的操作函数">4) 日期的操作函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>EXTRACT(type FROM date)</td>
<td>返回指定日期中特定的部分，type指定返回的值</td>
</tr>
</tbody>
</table>
<p>EXTRACT(type FROM date)函数中type的取值与含义：</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8itgwsgqpj30kx0gpjun.jpg" alt="image-20220601162705975.png">

</p>
<h3 id="5-时间和秒钟转换的函数">5) 时间和秒钟转换的函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIME_TO_SEC(time)</td>
<td>将 time 转化为秒并返回结果值。转化的公式为： 小时*3600+分钟 *60+秒</td>
</tr>
<tr>
<td>SEC_TO_TIME(seconds)</td>
<td>将 seconds 描述转化为包含小时、分钟和秒的时间</td>
</tr>
</tbody>
</table>
<h3 id="6-计算日期和时间的函数">6) 计算日期和时间的函数</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATE_ADD(datetime, INTERVAL expr type)， ADDDATE(date,INTERVAL expr type)</td>
<td>返回与给定日期时间相差INTERVAL时间段的日期时间</td>
</tr>
<tr>
<td>DATE_SUB(date,INTERVAL expr type)， SUBDATE(date,INTERVAL expr type)</td>
<td>返回与date相差INTERVAL时间间隔的日期</td>
</tr>
</tbody>
</table>
<p>上述函数中type的取值：</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8ith4c3rwj30kv0b33zx.jpg" alt="image-20220601165055639.png">

</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>ADDTIME(time1,time2)</td>
<td>返回time1加上time2的时间。当time2为一个数字时，代表的是 秒 ，可以为负数</td>
</tr>
<tr>
<td>SUBTIME(time1,time2)</td>
<td>返回time1减去time2后的时间。当time2为一个数字时，代表的 是 秒 ，可以为负数</td>
</tr>
<tr>
<td>DATEDIFF(date1,date2)</td>
<td>返回date1 - date2的日期间隔天数</td>
</tr>
<tr>
<td>TIMEDIFF(time1, time2)</td>
<td>返回time1 - time2的时间间隔</td>
</tr>
<tr>
<td>FROM_DAYS(N)</td>
<td>返回从0000年1月1日起，N天以后的日期</td>
</tr>
<tr>
<td>TO_DAYS(date)</td>
<td>返回日期date距离0000年1月1日的天数</td>
</tr>
<tr>
<td>LAST_DAY(date)</td>
<td>返回date所在月份的最后一天的日期</td>
</tr>
<tr>
<td>MAKEDATE(year,n)</td>
<td>针对给定年份与所在年份中的天数返回一个日期</td>
</tr>
<tr>
<td>MAKETIME(hour,minute,second)</td>
<td>将给定的小时、分钟和秒组合成时间并返回</td>
</tr>
<tr>
<td>PERIOD_ADD(time,n)</td>
<td>返回time加上n后的时间</td>
</tr>
</tbody>
</table>
<h3 id="7--日期的格式化与解析">7)  日期的格式化与解析</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATE_FORMAT(date,fmt)</td>
<td>按照字符串fmt格式化日期date值</td>
</tr>
<tr>
<td>TIME_FORMAT(time,fmt)</td>
<td>按照字符串fmt格式化时间time值</td>
</tr>
<tr>
<td>GET_FORMAT(date_type,format_type)</td>
<td>返回日期字符串的显示格式</td>
</tr>
<tr>
<td>STR_TO_DATE(str, fmt)</td>
<td>按照字符串fmt对str进行解析，解析为一个日期</td>
</tr>
</tbody>
</table>
<p>上述 非GET_FORMAT 函数中fmt参数常用的格式符：</p>
<table>
<thead>
<tr>
<th>格式符</th>
<th>说明</th>
<th>格式符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>%Y</td>
<td>4位数字表示年份</td>
<td>%y</td>
<td>表示两位数字表示年份</td>
</tr>
<tr>
<td>%M</td>
<td>月名表示月份（January,&hellip;.）</td>
<td>%m</td>
<td>两位数字表示月份 （01,02,03。。。）</td>
</tr>
<tr>
<td>%b</td>
<td>缩写的月名（Jan.，Feb.，&hellip;.）</td>
<td>%c</td>
<td>数字表示月份（1,2,3,&hellip;）</td>
</tr>
<tr>
<td>%D</td>
<td>英文后缀表示月中的天数 （1st,2nd,3rd,&hellip;）</td>
<td>%d</td>
<td>两位数字表示月中的天数(01,02&hellip;)</td>
</tr>
<tr>
<td>%e</td>
<td>数字形式表示月中的天数 （1,2,3,4,5&hellip;..）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%H</td>
<td>两位数字表示小数，24小时制 （01,02..）</td>
<td>%h 和%I</td>
<td>两位数字表示小时，12小时制 （01,02..）</td>
</tr>
<tr>
<td>%k</td>
<td>数字形式的小时，24小时制(1,2,3)</td>
<td>%l</td>
<td>数字形式表示小时，12小时制 （1,2,3,4&hellip;.）</td>
</tr>
<tr>
<td>%i</td>
<td>两位数字表示分钟（00,01,02）</td>
<td>%S 和%s</td>
<td>两位数字表示秒(00,01,02&hellip;)</td>
</tr>
<tr>
<td>%W</td>
<td>一周中的星期名称（Sunday&hellip;）</td>
<td>%a</td>
<td>一周中的星期缩写（Sun.， Mon.,Tues.，..）</td>
</tr>
<tr>
<td>%w</td>
<td>以数字表示周中的天数 (0=Sunday,1=Monday&hellip;.)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%j</td>
<td>以3位数字表示年中的天数(001,002&hellip;)</td>
<td>%U</td>
<td>以数字表示年中的第几周， （1,2,3。。）其中Sunday为周中第一 天</td>
</tr>
<tr>
<td>%u</td>
<td>以数字表示年中的第几周， （1,2,3。。）其中Monday为周中第一 天</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%T</td>
<td>24小时制</td>
<td>%r</td>
<td>12小时制</td>
</tr>
<tr>
<td>%p</td>
<td>AM或PM</td>
<td>%%</td>
<td>表示%</td>
</tr>
</tbody>
</table>
<h2 id="4-流程控制函数">4. 流程控制函数</h2>
<p>流程处理函数可以根据不同的条件，执行不同的处理流程，可以在SQL语句中实现不同的条件选择。 MySQL中的流程处理函数主要包括IF()、IFNULL()和CASE()函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>IF(value,value1,value2)</td>
<td>如果value的值为TRUE，返回value1， 否则返回value2</td>
</tr>
<tr>
<td>IFNULL(value1, value2)</td>
<td>如果value1不为NULL，返回value1，否则返回value2</td>
</tr>
<tr>
<td>CASE WHEN 条件1 THEN 结果1 WHEN 条件2 THEN 结果2 &hellip;. [ELSE resultn] END</td>
<td>相当于Java的if&hellip;else if&hellip;else&hellip;</td>
</tr>
<tr>
<td>CASE expr WHEN 常量值1 THEN 值1 WHEN 常量值1 THEN 值1 &hellip;. [ELSE 值n] END</td>
<td>相当于Java的switch&hellip;case&hellip;</td>
</tr>
</tbody>
</table>
<h2 id="5-加密与解密函数">5. 加密与解密函数</h2>
<p>加密与解密函数主要用于对数据库中的数据进行加密和解密处理，以防止数据被他人窃取。这些函数在保证数据库安全时非常有用。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>PASSWORD(str)</td>
<td>返回字符串str的加密版本，41位长的字符串。加密结果不可逆 ，常用于用户的密码加密</td>
</tr>
<tr>
<td>MD5(str)</td>
<td>返回字符串str的md5加密后的值，也是一种加密方式。若参数为 NULL，则会返回NULL</td>
</tr>
<tr>
<td>SHA(str)</td>
<td>从原明文密码str计算并返回加密后的密码字符串，当参数为 NULL时，返回NULL。 SHA加密算法比MD5更加安全 。</td>
</tr>
<tr>
<td>ENCODE(value,password_seed)</td>
<td>返回使用password_seed作为加密密码加密value</td>
</tr>
<tr>
<td>DECODE(value,password_seed)</td>
<td>返回使用password_seed作为加密密码解密value</td>
</tr>
</tbody>
</table>
<h2 id="6-mysql信息函数">6. MySQL信息函数</h2>
<p>MySQL中内置了一些可以查询MySQL信息的函数，这些函数主要用于帮助数据库开发或运维人员更好地 对数据库进行维护工作。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>VERSION()</td>
<td>返回当前MySQL的版本号</td>
</tr>
<tr>
<td>CONNECTION_ID()</td>
<td>返回当前MySQL服务器的连接数</td>
</tr>
<tr>
<td>DATABASE()，SCHEMA()</td>
<td>返回MySQL命令行当前所在的数据库</td>
</tr>
<tr>
<td>USER()，CURRENT_USER()、SYSTEM_USER()， SESSION_USER()</td>
<td>返回当前连接MySQL的用户名，返回结果格式为 “主机名@用户名”</td>
</tr>
<tr>
<td>CHARSET(value)</td>
<td>返回字符串value自变量的字符集</td>
</tr>
<tr>
<td>COLLATION(value)</td>
<td>返回字符串value的比较规则</td>
</tr>
</tbody>
</table>
<p>MySQL中有些函数无法对其进行具体的分类，但是这些函数在MySQL的开发和运维过程中也是不容忽视 的。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>FORMAT(value,n)</td>
<td>返回对数字value进行格式化后的结果数据。n表示 四舍五入 后保留 到小数点后n位</td>
</tr>
<tr>
<td>CONV(value,from,to)</td>
<td>将value的值进行不同进制之间的转换</td>
</tr>
<tr>
<td>INET_ATON(ipvalue)</td>
<td>将以点分隔的IP地址转化为一个数字</td>
</tr>
<tr>
<td>INET_NTOA(value)</td>
<td>将数字形式的IP地址转化为以点分隔的IP地址</td>
</tr>
<tr>
<td>BENCHMARK(n,expr)</td>
<td>将表达式expr重复执行n次。用于测试MySQL处理expr表达式所耗费 的时间</td>
</tr>
<tr>
<td>CONVERT(value USING char_code)</td>
<td>将value所使用的字符编码修改为char_code</td>
</tr>
</tbody>
</table>
<h1 id="第八章_聚合函数">第八章_聚合函数</h1>
<h2 id="1-聚合函数介绍">1. 聚合函数介绍</h2>
<ul>
<li>什么是聚合函数</li>
</ul>
<p>聚合函数作用于一组数据，并对一组数据返回一个值。</p>
<ul>
<li>聚合函数类型
<ul>
<li>AVG()</li>
<li>SUM()</li>
<li>MAX()</li>
<li>MIN()</li>
<li>COUNT()</li>
</ul>
</li>
</ul>
<h3 id="1-avg和sum函数">1) AVG和SUM函数</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">AVG</span>(salary), <span style="color:#50fa7b">MAX</span>(salary),<span style="color:#50fa7b">MIN</span>(salary), <span style="color:#50fa7b">SUM</span>(salary)
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">LIKE</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">%REP%</span><span style="color:#f1fa8c">&#39;</span>;
</code></pre></div><h3 id="2-min和max函数">2) MIN和MAX函数</h3>
<p>可以对任意数据类型的数据使用 MIN 和 MAX 函数。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">MIN</span>(hire_date), <span style="color:#50fa7b">MAX</span>(hire_date)
<span style="color:#ff79c6">FROM</span> employees;
</code></pre></div><h3 id="3-count函数">3) COUNT函数</h3>
<p>COUNT(*)返回表中记录总数，适用于任意数据类型。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">COUNT</span>(<span style="color:#ff79c6">*</span>)
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> department_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">50</span>;
</code></pre></div><p>COUNT(expr) 返回expr不为空的记录总数。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">COUNT</span>(commission_pct)
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> department_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">50</span>;
</code></pre></div><ul>
<li>问题：用count(*)，count(1)，count(列名)谁好呢?</li>
</ul>
<p>其实，对于MyISAM引擎的表是没有区别的。这种引擎内部有一计数器在维护着行数。 Innodb引擎的表用count(*),count(1)直接读行数，复杂度是O(n)，因为innodb真的要去数一遍。但好 于具体的count(列名)。</p>
<ul>
<li>问题：能不能使用count(列名)替换count(*)?</li>
</ul>
<p>不要使用 count(列名)来替代 count(<em>) ， count(</em>) 是 SQL92 定义的标准统计行数的语法，跟数 据库无关，跟 NULL 和非 NULL 无关。 说明：count(*)会统计值为 NULL 的行，而 count(列名)不会统计此列为 NULL 值的行。</p>
<h2 id="2-group-by">2. GROUP BY</h2>
<h3 id="1-基本使用">1) 基本使用</h3>
<p>可以使用GROUP BY子句将表中的数据分成若干组</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">column</span>, <span style="color:#50fa7b">group_function</span>(<span style="color:#ff79c6">column</span>)
<span style="color:#ff79c6">FROM</span> <span style="color:#ff79c6">table</span>
[<span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">condition</span>]
[<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> group_by_expression]
[<span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> <span style="color:#ff79c6">column</span>];
</code></pre></div><blockquote>
<p>结论1：SELECT中出现的非组函数的字段必须声明在GROUP BY中。</p>
<p>​			反之，GROUP BY中声明的字段可以不出现在SELECT中。</p>
<p>结论2：GROUP BY声明在FROM后面、WHERE后面、ORDER BY前面、LIMIT前面。</p>
</blockquote>
<h3 id="2-使用with-rollup">2) 使用WITH ROLLUP</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> department_id,<span style="color:#50fa7b">AVG</span>(salary)
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> department_id <span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">80</span>
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id <span style="color:#ff79c6">WITH</span> ROLLUP;
</code></pre></div><blockquote>
<p>注意： 当使用ROLLUP时，不能同时使用ORDER BY子句进行结果排序，即ROLLUP和ORDER BY是互相排斥的。</p>
</blockquote>
<h2 id="3-having">3. HAVING</h2>
<h3 id="1-基本使用-1">1) 基本使用</h3>
<p>过滤分组：HAVING子句</p>
<ol>
<li>行已经被分组。</li>
<li>使用了聚合函数。</li>
<li>满足HAVING 子句中条件的分组将被显示。</li>
<li>HAVING 不能单独使用，必须要跟 GROUP BY 一起使用。</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> department_id, <span style="color:#50fa7b">MAX</span>(salary)
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id
<span style="color:#ff79c6">HAVING</span> <span style="color:#50fa7b">MAX</span>(salary)<span style="color:#ff79c6">&gt;</span><span style="color:#bd93f9">10000</span> ;
</code></pre></div><p><strong>要求</strong></p>
<ul>
<li>如果过滤条件中使用了聚合函数，则必须使用HAVING来替换WHERE。否则，报错。</li>
<li>当过滤条件中没有聚合函数时，则次过滤条件声明在WHERE中或HAVING中都可以。但是，建议声明在WHERE中的执行效率高。</li>
<li>HAVING必须声明在GROUP BY 的后面</li>
<li>开发中，我们使用HAVING的前提是SQL中使用了GROUP BY。</li>
</ul>
<h3 id="2-where和having的对比">2) WHERE和HAVING的对比</h3>
<p><strong>区别1：WHERE 可以直接使用表中的字段作为筛选条件，但不能使用分组中的计算函数作为筛选条件； HAVING 必须要与 GROUP BY 配合使用，可以把分组计算的函数和分组字段作为筛选条件。</strong></p>
<p>这决定了，在需要对数据进行分组统计的时候，HAVING 可以完成 WHERE 不能完成的任务。这是因为， 在查询语法结构中，WHERE 在 GROUP BY 之前，所以无法对分组结果进行筛选。HAVING 在 GROUP BY 之 后，可以使用分组字段和分组中的计算函数，对分组的结果集进行筛选，这个功能是 WHERE 无法完成 的。另外，WHERE排除的记录不再包括在分组中。</p>
<p><strong>区别2：如果需要通过连接从关联表中获取需要的数据，WHERE 是先筛选后连接，而 HAVING 是先连接 后筛选。</strong></p>
<p>这一点，就决定了在关联查询中，WHERE 比 HAVING 更高效。因为 WHERE 可以先筛选，用一 个筛选后的较小数据集和关联表进行连接，这样占用的资源比较少，执行效率也比较高。HAVING 则需要 先把结果集准备好，也就是用未被筛选的数据集进行关联，然后对这个大的数据集进行筛选，这样占用 的资源就比较多，执行效率也较低。</p>
<p>小结如下：</p>
<table>
<thead>
<tr>
<th>关键字</th>
<th>用法</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td>WHERE</td>
<td>先筛选数据再关联，执行效率高</td>
<td>不能使用分组中的计算函数进行筛选</td>
</tr>
<tr>
<td>HAVING</td>
<td>可以使用分组中的计算函数</td>
<td>在最后的结果集中进行筛选，执行效率较低</td>
</tr>
</tbody>
</table>
<p><strong>开发中的选择：</strong></p>
<p>WHERE 和 HAVING 也不是互相排斥的，我们可以在一个查询里面同时使用 WHERE 和 HAVING。包含分组 统计函数的条件用 HAVING，普通条件用 WHERE。这样，我们就既利用了 WHERE 条件的高效快速，又发 挥了 HAVING 可以使用包含分组统计函数的查询条件的优点。当数据量特别大的时候，运行效率会有很 大的差别。</p>
<h2 id="4-select的执行过程">4. SELECT的执行过程</h2>
<h3 id="1-查询的结构">1) 查询的结构</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4">#方式1：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> ...,....,...
<span style="color:#ff79c6">FROM</span> ...,...,....
<span style="color:#ff79c6">WHERE</span> 多表的连接条件
<span style="color:#ff79c6">AND</span> 不包含组函数的过滤条件
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> ...,...
<span style="color:#ff79c6">HAVING</span> 包含组函数的过滤条件
<span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> ... <span style="color:#ff79c6">ASC</span><span style="color:#ff79c6">/</span><span style="color:#ff79c6">DESC</span>
<span style="color:#ff79c6">LIMIT</span> ...,...
<span style="color:#6272a4">#方式2：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> ...,....,...
<span style="color:#ff79c6">FROM</span> ... <span style="color:#ff79c6">JOIN</span> ...
<span style="color:#ff79c6">ON</span> 多表的连接条件
<span style="color:#ff79c6">JOIN</span> ...
<span style="color:#ff79c6">ON</span> ...
<span style="color:#ff79c6">WHERE</span> 不包含组函数的过滤条件
<span style="color:#ff79c6">AND</span><span style="color:#ff79c6">/</span><span style="color:#ff79c6">OR</span> 不包含组函数的过滤条件
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> ...,...
<span style="color:#ff79c6">HAVING</span> 包含组函数的过滤条件
<span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> ... <span style="color:#ff79c6">ASC</span><span style="color:#ff79c6">/</span><span style="color:#ff79c6">DESC</span>
<span style="color:#ff79c6">LIMIT</span> ...,...
<span style="color:#6272a4">#其中：
</span><span style="color:#6272a4"></span><span style="color:#6272a4">#（1）from：从哪些表中筛选
</span><span style="color:#6272a4"></span><span style="color:#6272a4">#（2）on：关联多表查询时，去除笛卡尔积
</span><span style="color:#6272a4"></span><span style="color:#6272a4">#（3）where：从表中筛选的条件
</span><span style="color:#6272a4"></span><span style="color:#6272a4">#（4）group by：分组依据
</span><span style="color:#6272a4"></span><span style="color:#6272a4">#（5）having：在统计结果中再次筛选
</span><span style="color:#6272a4"></span><span style="color:#6272a4">#（6）order by：排序
</span><span style="color:#6272a4"></span><span style="color:#6272a4">#（7）limit：分页
</span></code></pre></div><p><strong>需要记住 SELECT 查询时的两个顺序：</strong></p>
<p><!-- raw HTML omitted -->1. 关键字的顺序是不能颠倒的：<!-- raw HTML omitted --></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> ... <span style="color:#ff79c6">FROM</span> ... <span style="color:#ff79c6">WHERE</span> ... <span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> ... <span style="color:#ff79c6">HAVING</span> ... <span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> ... <span style="color:#ff79c6">LIMIT</span>...
</code></pre></div><p><!-- raw HTML omitted -->1. SELECT 语句的执行顺序<!-- raw HTML omitted -->（在 MySQL 和 Oracle 中，SELECT 执行顺序基本相同）：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">FROM</span> <span style="color:#ff79c6">-</span><span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">-</span><span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> <span style="color:#ff79c6">-</span><span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">HAVING</span> <span style="color:#ff79c6">-</span><span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">SELECT</span> 的字段 <span style="color:#ff79c6">-</span><span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">DISTINCT</span> <span style="color:#ff79c6">-</span><span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> <span style="color:#ff79c6">-</span><span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">LIMIT</span>
</code></pre></div><p>比如你写了一个 SQL 语句，那么它的关键字顺序和执行顺序是下面这样的：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">DISTINCT</span> player_id, player_name, <span style="color:#50fa7b">count</span>(<span style="color:#ff79c6">*</span>) <span style="color:#ff79c6">as</span> num <span style="color:#6272a4"># 顺序 5
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">FROM</span> player <span style="color:#ff79c6">JOIN</span> team <span style="color:#ff79c6">ON</span> player.team_id <span style="color:#ff79c6">=</span> team.team_id <span style="color:#6272a4"># 顺序 1
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">WHERE</span> height <span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">1</span>.<span style="color:#bd93f9">80</span> <span style="color:#6272a4"># 顺序 2
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> player.team_id <span style="color:#6272a4"># 顺序 3
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">HAVING</span> num <span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">2</span> <span style="color:#6272a4"># 顺序 4
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> num <span style="color:#ff79c6">DESC</span> <span style="color:#6272a4"># 顺序 6
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">LIMIT</span> <span style="color:#bd93f9">2</span> <span style="color:#6272a4"># 顺序 7
</span></code></pre></div><p>在 SELECT 语句执行这些步骤的时候，每个步骤都会产生一个 虚拟表 ，然后将这个虚拟表传入下一个步 骤中作为输入。需要注意的是，这些步骤隐含在 SQL 的执行过程中，对于我们来说是不可见的。</p>
<h3 id="2-sql的执行原理">2) SQL的执行原理</h3>
<p>SELECT 是先执行 FROM 这一步的。在这个阶段，如果是多张表联查，还会经历下面的几个步骤：</p>
<ol>
<li>首先先通过 CROSS JOIN 求笛卡尔积，相当于得到虚拟表 vt（virtual table）1-1；</li>
<li>通过 ON 进行筛选，在虚拟表 vt1-1 的基础上进行筛选，得到虚拟表 vt1-2；</li>
<li>添加外部行。如果我们使用的是左连接、右链接或者全连接，就会涉及到外部行，也就是在虚拟 表 vt1-2 的基础上增加外部行，得到虚拟表 vt1-3。</li>
</ol>
<ul>
<li>
<p>当然如果我们操作的是两张以上的表，还会重复上面的步骤，直到所有表都被处理完为止。这个过程得 到是我们的原始数据。</p>
</li>
<li>
<p>然后进入第三步和第四步，也就是 GROUP 和 HAVING 阶段 。在这个阶段中，实际上是在虚拟表 vt2 的 基础上进行分组和分组过滤，得到中间的虚拟表 vt3 和 vt4 。</p>
</li>
<li>
<p>当我们完成了条件筛选部分之后，就可以筛选表中提取的字段，也就是进入到 SELECT 和 DISTINCT 阶段 。</p>
</li>
<li>
<p>首先在 SELECT 阶段会提取想要的字段，然后在 DISTINCT 阶段过滤掉重复的行，分别得到中间的虚拟表 vt5-1 和 vt5-2 。</p>
</li>
<li>
<p>当我们提取了想要的字段数据之后，就可以按照指定的字段进行排序，也就是 ORDER BY 阶段 ，得到 虚拟表 vt6 。</p>
</li>
<li>
<p>最后在 vt6 的基础上，取出指定行的记录，也就是 LIMIT 阶段 ，得到最终的结果，对应的是虚拟表 vt7 。</p>
</li>
<li>
<p>当然我们在写 SELECT 语句的时候，不一定存在所有的关键字，相应的阶段就会省略。</p>
</li>
</ul>
<p>同时因为 SQL 是一门类似英语的结构化查询语言，所以我们在写 SELECT 语句的时候，还要注意相应的 关键字顺序，所谓底层运行的原理，就是我们刚才讲到的执行顺序。</p>
<h1 id="第九章_子查询">第九章_子查询</h1>
<h2 id="1-基本使用-2">1. 基本使用</h2>
<ul>
<li>子查询的基本语法结构：</li>
</ul>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8itveb1dej30mm04yq4a.jpg" alt="image-20220603133759153.png">

</p>
<ul>
<li>子查询（内查询）在主查询之前一次执行完成。</li>
<li>子查询的结果被主查询（外查询）使用 。</li>
<li><strong>注意事项</strong>
<ul>
<li>子查询要包含在括号内</li>
<li>将子查询放在比较条件的右侧</li>
<li>单行操作符对应单行子查询，多行操作符对应多行子查询</li>
</ul>
</li>
</ul>
<h2 id="2-子查询的分类">2. 子查询的分类</h2>
<p><strong>分类方式1：</strong></p>
<p>我们按内查询的结果返回一条还是多条记录，将子查询分为 单行子查询 、 多行子查询 。</p>
<ul>
<li>单行子查询</li>
</ul>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8itvjtqr3j30de034glx.jpg" alt="image-20220603135507360.png">

</p>
<ul>
<li>多行子查询</li>
</ul>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8itvr57lyj30d202wt92.jpg" alt="image-20220603135544144.png">

</p>
<p><strong>分类方式2：</strong></p>
<p>我们按内查询是否被执行多次，将子查询划分为 相关(或关联)子查询 和 不相关(或非关联)子查询 。</p>
<p>子查询从数据表中查询了数据结果，如果这个数据结果只执行一次，然后这个数据结果作为主查询的条件进行执行，那么这样的子查询叫做不相关子查询。</p>
<p>同样，如果子查询需要执行多次，即采用循环的方式，先从外部查询开始，每次都传入子查询进行查询，然后再将结果反馈给外部，这种嵌套的执行方式就称为相关子查询。</p>
<h2 id="3-单行子查询">3. 单行子查询</h2>
<h3 id="1-单行比较操作符">1) 单行比较操作符</h3>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>equal to</td>
</tr>
<tr>
<td>&gt;</td>
<td>greater than</td>
</tr>
<tr>
<td>&gt;=</td>
<td>greater than or equal to</td>
</tr>
<tr>
<td>&lt;</td>
<td>less than</td>
</tr>
<tr>
<td>&lt;=</td>
<td>less than or equal to</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>not equal to</td>
</tr>
</tbody>
</table>
<h3 id="2-代码示例">2) 代码示例</h3>
<ul>
<li>题目：返回job_id与141号员工相同，salary比143号员工多的员工姓名，job_id和工资</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> last_name, job_id, salary
<span style="color:#ff79c6">FROM</span> eployees
<span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">=</span> (
	<span style="color:#ff79c6">SELECT</span> job_id
	<span style="color:#ff79c6">FROM</span> eployees
    <span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">141</span>
)
<span style="color:#ff79c6">AND</span> salary <span style="color:#ff79c6">&gt;</span> (
	<span style="color:#ff79c6">SELECT</span> salary
	<span style="color:#ff79c6">FROM</span> eployees
    <span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">143</span>
);
</code></pre></div><ul>
<li>题目：查询与141号或174号员工的manager_id和department_id相同的其他员工的employee_id， manager_id，department_id</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4"># 实现方式一：不成对比较
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id, manager_id, department_id
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> manager_id <span style="color:#ff79c6">IN</span>
        (<span style="color:#ff79c6">SELECT</span> manager_id
        <span style="color:#ff79c6">FROM</span> employees
        <span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">IN</span> (<span style="color:#bd93f9">174</span>,<span style="color:#bd93f9">141</span>))
<span style="color:#ff79c6">AND</span> department_id <span style="color:#ff79c6">IN</span>
        (<span style="color:#ff79c6">SELECT</span> department_id
        <span style="color:#ff79c6">FROM</span> employees
        <span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">IN</span> (<span style="color:#bd93f9">174</span>,<span style="color:#bd93f9">141</span>))
<span style="color:#ff79c6">AND</span> employee_id <span style="color:#ff79c6">NOT</span> <span style="color:#ff79c6">IN</span>(<span style="color:#bd93f9">174</span>,<span style="color:#bd93f9">141</span>);

<span style="color:#6272a4"># 实现方式二：成对比较
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id, manager_id, department_id
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> (manager_id, department_id) <span style="color:#ff79c6">IN</span>
        (<span style="color:#ff79c6">SELECT</span> manager_id, department_id
        <span style="color:#ff79c6">FROM</span> employees
        <span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">IN</span> (<span style="color:#bd93f9">141</span>,<span style="color:#bd93f9">174</span>))
<span style="color:#ff79c6">AND</span> employee_id <span style="color:#ff79c6">NOT</span> <span style="color:#ff79c6">IN</span> (<span style="color:#bd93f9">141</span>,<span style="color:#bd93f9">174</span>);
</code></pre></div><ul>
<li>题目：查询最低工资大于50号部门最低工资的部门id和其最低工资</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> department_id, <span style="color:#50fa7b">MIN</span>(salary)
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id
<span style="color:#ff79c6">HAVING</span> <span style="color:#50fa7b">MIN</span>(salary) <span style="color:#ff79c6">&gt;</span>
            (<span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">MIN</span>(salary)
            <span style="color:#ff79c6">FROM</span> employees
            <span style="color:#ff79c6">WHERE</span> department_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">50</span>);
</code></pre></div><h3 id="3-case中的子查询">3) CASE中的子查询</h3>
<p>题目：显式员工的employee_id,last_name和location。其中，若员工department_id与location_id为1800 的department_id相同，则location为’Canada’，其余则为’USA’。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id, last_name,
    (<span style="color:#ff79c6">CASE</span> department_id
    <span style="color:#ff79c6">WHEN</span>
        (<span style="color:#ff79c6">SELECT</span> department_id <span style="color:#ff79c6">FROM</span> departments
        <span style="color:#ff79c6">WHERE</span> location_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1800</span>)
    <span style="color:#ff79c6">THEN</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">Canada</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">ELSE</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">USA</span><span style="color:#f1fa8c">&#39;</span> END) location
<span style="color:#ff79c6">FROM</span> employees;
</code></pre></div><h3 id="4-子查询中的空值问题">4) 子查询中的空值问题</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> last_name, job_id
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">=</span>
(<span style="color:#ff79c6">SELECT</span> job_id
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> last_name <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">Haas</span><span style="color:#f1fa8c">&#39;</span>);
</code></pre></div><blockquote>
<p>子查询不返回任何行</p>
</blockquote>
<h3 id="5-非法使用子查询">5) 非法使用子查询</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id, last_name
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> salary <span style="color:#ff79c6">=</span>
(<span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">MIN</span>(salary)
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id);
</code></pre></div><blockquote>
<p>多行子查询使用单行比较符</p>
</blockquote>
<h2 id="4-多行子查询">4. 多行子查询</h2>
<ul>
<li>也称为集合比较子查询</li>
<li>内查询返回多行</li>
<li>使用多行比较操作符</li>
</ul>
<h3 id="1-多行比较操作符">1) 多行比较操作符</h3>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>IN</td>
<td>等于列表中的任意一个</td>
</tr>
<tr>
<td>ANY</td>
<td>需要和单行比较操作符一起使用，和子查询返回的某一个值比较</td>
</tr>
<tr>
<td>ALL</td>
<td>需要和单行比较操作符一起使用，和子查询返回的所有值比较</td>
</tr>
<tr>
<td>SOME</td>
<td>实际上是ANY的别名，作用相同，一般常使用ANY</td>
</tr>
</tbody>
</table>
<h3 id="2-代码示例-1">2) 代码示例</h3>
<ul>
<li>题目：返回其它job_id中比job_id为‘IT_PROG’部门任一工资低的员工的员工号、姓名、job_id 以及salary</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id, last_name, job_id, salary
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">&gt;</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">IT_PROG</span><span style="color:#f1fa8c">&#39;</span> 
<span style="color:#ff79c6">AND</span> salary <span style="color:#ff79c6">&lt;</span> <span style="color:#50fa7b">ANY</span>(
	<span style="color:#ff79c6">SELECT</span> salary
    <span style="color:#ff79c6">FROM</span> emplyees
    <span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">IT_PROG</span><span style="color:#f1fa8c">&#39;</span>
);
</code></pre></div><ul>
<li>题目：查询平均工资最低的部门id</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4">#方式1：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> department_id
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id
<span style="color:#ff79c6">HAVING</span> <span style="color:#50fa7b">AVG</span>(salary) <span style="color:#ff79c6">=</span> (
        <span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">MIN</span>(avg_sal)
        <span style="color:#ff79c6">FROM</span> (
            <span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">AVG</span>(salary) avg_sal
            <span style="color:#ff79c6">FROM</span> employees
            <span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id
            ) dept_avg_sal
);
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4">#方式2：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> department_id
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id
<span style="color:#ff79c6">HAVING</span> <span style="color:#50fa7b">AVG</span>(salary) <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span> <span style="color:#ff79c6">ALL</span> (
        <span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">AVG</span>(salary) avg_sal
        <span style="color:#ff79c6">FROM</span> employees
        <span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id
);
</code></pre></div><h3 id="3-空值问题">3) 空值问题</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> last_name
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">NOT</span> <span style="color:#ff79c6">IN</span> (
    <span style="color:#ff79c6">SELECT</span> manager_id
    <span style="color:#ff79c6">FROM</span> employees
    <span style="color:#ff79c6">WHERE</span> manager_id <span style="color:#ff79c6">IS</span> <span style="color:#ff79c6">NOT</span> NULL
);
</code></pre></div><h2 id="5-相关子查询">5. 相关子查询</h2>
<p>如果子查询的执行依赖于外部查询，通常情况下都是因为子查询中的表用到了外部的表，并进行了条件 关联，因此每执行一次外部查询，子查询都要重新计算一次，这样的子查询就称之为 关联子查询 。</p>
<p>相关子查询按照一行接一行的顺序执行，主查询的每一行都执行一次子查询。</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8itw1gf9rj30em09bgny.jpg" alt="image-20220603154919387.png">

</p>
<p>
  <img src="http://tva1.sinaimg.cn/large/006QQPIfly1h8itw6b6s9j30m7069wg9.jpg" alt="image-20220603155013864.png">

</p>
<blockquote>
<p>说明：子查询中使用主查询中的列</p>
</blockquote>
<h3 id="1-代码示例">1) 代码示例</h3>
<ul>
<li>题目：查询员工中工资大于本部门平均工资的员工的last_name,salary和其department_id</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4"># 方式一：使用相关子查询
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> last_name, salary, department
<span style="color:#ff79c6">FROM</span> employees e1
<span style="color:#ff79c6">WHERE</span> salary <span style="color:#ff79c6">&gt;</span> (
		<span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">AVG</span>(salary)
    	<span style="color:#ff79c6">FROM</span> employees e2
    	<span style="color:#ff79c6">WHERE</span> department_id <span style="color:#ff79c6">=</span> e1.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
);
<span style="color:#6272a4"># 方式二：在FROM中声明子查询
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> e.last_name, e.salary, e.department_id
<span style="color:#ff79c6">FROM</span> employees e, (
    			<span style="color:#ff79c6">SELECT</span> department_id, <span style="color:#50fa7b">AVG</span>(salary) avg_sal
    			<span style="color:#ff79c6">FROM</span> employees
    			<span style="color:#ff79c6">GROUP</span> <span style="color:#ff79c6">BY</span> department_id) t_dept_avg_salary
<span style="color:#ff79c6">WHERE</span> e.department_id <span style="color:#ff79c6">=</span> t_dept_avg_salary.department_id
<span style="color:#ff79c6">AND</span> e.salary <span style="color:#ff79c6">&gt;</span> t_dept_avg_salary.avg_sal;
</code></pre></div><p>在ORDER BY 中使用子查询：</p>
<ul>
<li>查询员工的id,salary,按照department_name 排序</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> employee_id, salary
<span style="color:#ff79c6">FROM</span> employees e
<span style="color:#ff79c6">ORDER</span> <span style="color:#ff79c6">BY</span> (
	<span style="color:#ff79c6">SELECT</span> department_name
    <span style="color:#ff79c6">FROM</span> departments d
    <span style="color:#ff79c6">WHERE</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
);
</code></pre></div><ul>
<li>题目：若employees表中employee_id与job_history表中employee_id相同的数目不小于2，输出这些相同 id的员工的employee_id,last_name和其job_id</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">SELECT</span> e.employee_id, last_name,e.job_id
<span style="color:#ff79c6">FROM</span> employees e
<span style="color:#ff79c6">WHERE</span> <span style="color:#bd93f9">2</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">=</span> (<span style="color:#ff79c6">SELECT</span> <span style="color:#50fa7b">COUNT</span>(<span style="color:#ff79c6">*</span>)
        <span style="color:#ff79c6">FROM</span> job_history
        <span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">=</span> e.employee_id
);
</code></pre></div><h3 id="2-exists-与-not-exists-关键字">2) EXISTS 与 NOT EXISTS 关键字</h3>
<ul>
<li>关联子查询通常也会和 EXISTS操作符一起来使用，用来检查在子查询中是否存在满足条件的行。</li>
<li>如果在子查询中不存在满足条件的行：
<ul>
<li>条件返回 FALSE</li>
<li>继续在子查询中查找</li>
</ul>
</li>
<li>如果在子查询中存在满足条件的行：
<ul>
<li>不在子查询中继续查找</li>
<li>条件返回 TRUE</li>
</ul>
</li>
<li>NOT EXISTS关键字表示如果不存在某种条件，则返回TRUE，否则返回FALSE。</li>
</ul>
<p>题目：查询公司管理者的employee_id，last_name，job_id，department_id信息</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4"># 方式一：EXISTS
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id, last_name, job_id, department_id
<span style="color:#ff79c6">FROM</span> employees e1
<span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">EXISTS</span> ( <span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span>
        <span style="color:#ff79c6">FROM</span> employees e2
        <span style="color:#ff79c6">WHERE</span> e2.manager_id <span style="color:#ff79c6">=</span>
        e1.employee_id
);

<span style="color:#6272a4"># 方式二：自连接
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">DISTINCT</span> e1.employee_id, e1.last_name, e1.job_id, e1.department_id
<span style="color:#ff79c6">FROM</span> employees e1 <span style="color:#ff79c6">JOIN</span> employees e2
<span style="color:#ff79c6">ON</span> e1.employee_id <span style="color:#ff79c6">=</span> e2.manager_id;

<span style="color:#6272a4"># 方式三：IN
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> employee_id, last_name, job_id, department_id
<span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">IN</span> (
        <span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">DISTINCT</span> manager_id
        <span style="color:#ff79c6">FROM</span> employees
);
</code></pre></div><p>题目：查询departments表中，不存在于employees表中的部门的department_id和department_name</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4"># 方式一：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> d.department_id, d.department_name
<span style="color:#ff79c6">FROM</span> departments e <span style="color:#ff79c6">RIGHT</span> <span style="color:#ff79c6">JOIN</span> departments d
<span style="color:#ff79c6">ON</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
<span style="color:#ff79c6">WHERE</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">IS</span> NULL;

<span style="color:#6272a4"># 方式二：
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> department_id, department_name
<span style="color:#ff79c6">FROM</span> departments d
<span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">NOT</span> <span style="color:#ff79c6">EXISTS</span> (
	<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span>
    <span style="color:#ff79c6">FROM</span> employees e
    <span style="color:#ff79c6">WHERE</span> d.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">=</span> e.<span style="color:#ff79c6">`</span>department_id<span style="color:#ff79c6">`</span>
);
</code></pre></div><h3 id="3-相关更新">3) 相关更新</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">UPDATE</span> table1 alias1
<span style="color:#8be9fd">SET</span> <span style="color:#ff79c6">column</span> <span style="color:#ff79c6">=</span> (<span style="color:#ff79c6">SELECT</span> expression
<span style="color:#ff79c6">FROM</span> table2 alias2
<span style="color:#ff79c6">WHERE</span> alias1.<span style="color:#ff79c6">column</span> <span style="color:#ff79c6">=</span> alias2.<span style="color:#ff79c6">column</span>);
</code></pre></div><p>使用相关子查询依据一个表中的数据更新另一个表的数据。</p>
<p>题目：在employees中增加一个department_name字段，数据为员工对应的部门名称</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4"># 1）
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">ALTER</span> <span style="color:#ff79c6">TABLE</span> employees
<span style="color:#ff79c6">ADD</span>(department_name <span style="color:#50fa7b">VARCHAR2</span>(<span style="color:#bd93f9">14</span>));

<span style="color:#6272a4"># 2）
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">UPDATE</span> employees e
<span style="color:#8be9fd">SET</span> department_name <span style="color:#ff79c6">=</span> (<span style="color:#ff79c6">SELECT</span> department_name
<span style="color:#ff79c6">FROM</span> departments d
<span style="color:#ff79c6">WHERE</span> e.department_id <span style="color:#ff79c6">=</span> d.department_id);
</code></pre></div><h3 id="4-相关删除">4) 相关删除</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">DELETE</span> <span style="color:#ff79c6">FROM</span> table1 alias1
<span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">column</span> <span style="color:#50fa7b">operator</span> (<span style="color:#ff79c6">SELECT</span> expression
<span style="color:#ff79c6">FROM</span> table2 alias2
<span style="color:#ff79c6">WHERE</span> alias1.<span style="color:#ff79c6">column</span> <span style="color:#ff79c6">=</span> alias2.<span style="color:#ff79c6">column</span>);
</code></pre></div><p>使用相关子查询依据一个表中的数据删除另一个表的数据。</p>
<p>题目：删除表employees中，其与emp_history表皆有的数据</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">DELETE</span> <span style="color:#ff79c6">FROM</span> employees e
<span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">in</span>(
    <span style="color:#ff79c6">SELECT</span> employee_id
    <span style="color:#ff79c6">FROM</span> emp_history
    <span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">=</span> e.employee_id
);
</code></pre></div><h2 id="6-思考题">6. 思考题</h2>
<p>问题：谁的工资比Abel的高？ 解答：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4">#方式1：自连接
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> e2.last_name,e2.salary
<span style="color:#ff79c6">FROM</span> employees e1,employees e2
<span style="color:#ff79c6">WHERE</span> e1.last_name <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">Abel</span><span style="color:#f1fa8c">&#39;</span>
<span style="color:#ff79c6">AND</span> e1.<span style="color:#ff79c6">`</span>salary<span style="color:#ff79c6">`</span> <span style="color:#ff79c6">&lt;</span> e2.<span style="color:#ff79c6">`</span>salary<span style="color:#ff79c6">`</span>;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#6272a4">#方式2：子查询
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> last_name,salary
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> salary <span style="color:#ff79c6">&gt;</span> (
    <span style="color:#ff79c6">SELECT</span> salary
    <span style="color:#ff79c6">FROM</span> employees
    <span style="color:#ff79c6">WHERE</span> last_name <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">Abel</span><span style="color:#f1fa8c">&#39;</span>
);
</code></pre></div><p>问题：以上两种方式有好坏之分吗？</p>
<p>解答：自连接方式好！</p>
<p>题目中可以使用子查询，也可以使用自连接。一般情况建议你使用自连接，因为在许多 DBMS 的处理过 程中，对于自连接的处理速度要比子查询快得多。 可以这样理解：子查询实际上是通过未知表进行查询后的条件判断，而自连接是通过已知的自身数据表 进行条件判断，因此在大部分 DBMS 中都对自连接处理进行了优化。</p>
<h1 id="第11章_数据处理之增删改">第11章_数据处理之增删改</h1>
<h2 id="1-插入数据">1. 插入数据</h2>
<h3 id="1-方式1values的方式添加">1) 方式1：VALUES的方式添加</h3>
<p>使用这种语法一次只能向表中插入一条数据。</p>
<p><strong>情况1：为表的所有字段按默认顺序插入数据</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">INSERT</span> <span style="color:#ff79c6">INTO</span> 表名
<span style="color:#ff79c6">VALUES</span> (value1,value2,....);
</code></pre></div><p>值列表中需要为表的每一个字段指定值，并且值的顺序必须和数据表中字段定义时的顺序相同。</p>
<p>举例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">INSERT</span> <span style="color:#ff79c6">INTO</span> departments
<span style="color:#ff79c6">VALUES</span> (<span style="color:#bd93f9">70</span>, <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">Pub</span><span style="color:#f1fa8c">&#39;</span>, <span style="color:#bd93f9">100</span>, <span style="color:#bd93f9">1700</span>);
</code></pre></div><p><strong>情况2: 指定字段名插入数据</strong></p>
<p>为表的指定字段插入数据，就是在INSERT语句中只向部分字段中插入值，而其他字段的值为表定义时的 默认值。 在 INSERT 子句中随意列出列名，但是一旦列出，VALUES中要插入的value1,&hellip;.valuen需要与 column1,&hellip;columnn列一一对应。如果类型不同，将无法插入，并且MySQL会产生错误。</p>
<p>举例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">INSERT</span> <span style="color:#ff79c6">INTO</span> <span style="color:#50fa7b">departments</span>(department_id, department_name)
<span style="color:#ff79c6">VALUES</span> (<span style="color:#bd93f9">80</span>, <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">IT</span><span style="color:#f1fa8c">&#39;</span>);
</code></pre></div><p><strong>情况3：同时插入多条记录</strong></p>
<p>INSERT语句可以同时向数据表中插入多条记录，插入时指定多个值列表，每个值列表之间用逗号分隔 开，基本语法格式如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">INSERT</span> <span style="color:#ff79c6">INTO</span> table_name
<span style="color:#ff79c6">VALUES</span>
(value1 [,value2, …, valuen]),
(value1 [,value2, …, valuen]),
……
(value1 [,value2, …, valuen]);
</code></pre></div><p>或者</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">INSERT</span> <span style="color:#ff79c6">INTO</span> <span style="color:#50fa7b">table_name</span>(column1 [, column2, …, columnn])
<span style="color:#ff79c6">VALUES</span>
(value1 [,value2, …, valuen]),
(value1 [,value2, …, valuen]),
……
(value1 [,value2, …, valuen]);
</code></pre></div><p>使用INSERT同时插入多条记录时，MySQL会返回一些在执行单行插入时没有的额外信息，这些信息的含 义如下：</p>
<ul>
<li>Records：表明插入的记录条数。</li>
<li>Duplicates：表明插入时被忽略的记录，原因可能是这 些记录包含了重复的主键值。</li>
<li>Warnings：表明有问题的数据值，例如发生数据类型转换。</li>
</ul>
<blockquote>
<p>一个同时插入多行记录的INSERT语句等同于多个单行插入的INSERT语句，但是多行的INSERT语句 在处理过程中 效率更高 。因为MySQL执行单条INSERT语句插入多行数据比使用多条INSERT语句 快，所以在插入多条记录时最好选择使用单条INSERT语句的方式插入。</p>
</blockquote>
<h3 id="2-方式2将查询结果插入到表中">2) 方式2：将查询结果插入到表中</h3>
<p>INSERT还可以将SELECT语句查询的结果插入到表中，此时不需要把每一条记录的值一个一个输入，只需要使用一条INSERT语句和一条SELECT语句组成的组合语句即可快速地从一个或多个表中向一个表中插入多行</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql">INSET <span style="color:#ff79c6">INTO</span> 目标表名
(tar_column1 [, tar_column2, ..., tar_columnn])
<span style="color:#ff79c6">SELECT</span>
(src_column1 [, src_column2, …, src_columnn])
<span style="color:#ff79c6">FROM</span> 源表名
[<span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">condition</span>]
</code></pre></div><ul>
<li>在 INSERT 语句中加入子查询。</li>
<li>不必书写 VALUES 子句。</li>
<li>子查询中的值列表应与 INSERT 子句中的列名对应。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">INSERT</span> <span style="color:#ff79c6">INTO</span> emp2
<span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span>
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> department_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">90</span>;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">INSERT</span> <span style="color:#ff79c6">INTO</span> <span style="color:#50fa7b">sales_reps</span>(id, name, salary, commission_pct)
<span style="color:#ff79c6">SELECT</span> employee_id, last_name, salary, commission_pct
<span style="color:#ff79c6">FROM</span> employees
<span style="color:#ff79c6">WHERE</span> job_id <span style="color:#ff79c6">LIKE</span> <span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;</span><span style="color:#f1fa8c">%REP%</span><span style="color:#f1fa8c">&#39;</span>;
</code></pre></div><h2 id="2-更新数据">2. 更新数据</h2>
<ul>
<li>使用 UPDATE 语句更新数据。语法如下：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">UPDATE</span> table_name
<span style="color:#8be9fd">SET</span> column1<span style="color:#ff79c6">=</span>value1, column2<span style="color:#ff79c6">=</span>value2, ..., <span style="color:#ff79c6">column</span><span style="color:#ff79c6">=</span>valuen
[<span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">condition</span>]
</code></pre></div><ul>
<li>
<p>可以一次更新多条数据。</p>
</li>
<li>
<p>如果需要回滚数据，需要保证在DML前，进行设置：SET AUTOCOMMIT = FALSE;</p>
</li>
<li>
<p>使用 WHERE 子句指定需要更新的数据。</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">UPDATE</span> employees
<span style="color:#8be9fd">SET</span> department_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">70</span>
<span style="color:#ff79c6">WHERE</span> employee_id <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">113</span>;
</code></pre></div><ul>
<li>如果省略 WHERE 子句，则表中的所有数据都将被更新。</li>
</ul>
<h2 id="3-删除数据">3. 删除数据</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">DELETE</span> <span style="color:#ff79c6">FROM</span> table_name [<span style="color:#ff79c6">WHERE</span> <span style="color:#ff79c6">&lt;</span><span style="color:#ff79c6">condition</span><span style="color:#ff79c6">&gt;</span>];
</code></pre></div><p>table_name指定要执行删除操作的表；“[WHERE ]”为可选参数，指定删除条件，如果没有WHERE子句， DELETE语句将删除表中的所有记录。</p>
<h2 id="4-mysql8新特性计算列">4. MySQL8新特性：计算列</h2>
<p>什么叫计算列呢？简单来说就是某一列的值是通过别的列计算得来的。例如，a列值为1、b列值为2，c列 不需要手动插入，定义a+b的结果为c的值，那么c就是计算列，是通过别的列计算得来的。</p>
<p>在MySQL 8.0中，CREATE TABLE 和 ALTER TABLE 中都支持增加计算列。下面以CREATE TABLE为例进行讲解。</p>
<p>举例：定义数据表tb1，然后定义字段id、字段a、字段b和字段c，其中字段c为计算列，用于计算a+b的 值。 首先创建测试表tb1，语句如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-mysql" data-lang="mysql"><span style="color:#ff79c6">CREATE</span> <span style="color:#ff79c6">TABLE</span> <span style="color:#50fa7b">tb1</span>(
id <span style="color:#8be9fd">INT</span>,
a <span style="color:#8be9fd">INT</span>,
b <span style="color:#8be9fd">INT</span>,
c <span style="color:#8be9fd">INT</span> GENERATED ALWAYS <span style="color:#ff79c6">AS</span> (a <span style="color:#ff79c6">+</span> b) VIRTUAL
);
</code></pre></div>

                

                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/1099%E8%A7%86%E9%A2%91%E5%BC%B9%E5%B9%95%E9%A1%B9%E7%9B%AE/" data-toggle="tooltip" data-placement="top" title="视频弹幕项目">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/1091mysql%E5%9F%BA%E7%A1%80%E8%A1%A5%E5%85%85ddl/" data-toggle="tooltip" data-placement="top" title="21、mysql基础补充(DDL和数据类型)">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>
                

            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">标签</a></h5>
                    <div class="tags">
                        
                        
                        
                        <a href="/tags/activemq" title="activemq">
                            activemq
                        </a>
                        
                        
                        
                        <a href="/tags/ajax" title="ajax">
                            ajax
                        </a>
                        
                        
                        
                        <a href="/tags/cookie" title="cookie">
                            cookie
                        </a>
                        
                        
                        
                        <a href="/tags/datax" title="datax">
                            datax
                        </a>
                        
                        
                        
                        <a href="/tags/docker" title="docker">
                            docker
                        </a>
                        
                        
                        
                        <a href="/tags/dubbo" title="dubbo">
                            dubbo
                        </a>
                        
                        
                        
                        <a href="/tags/elasticsearch" title="elasticsearch">
                            elasticsearch
                        </a>
                        
                        
                        
                        <a href="/tags/filter" title="filter">
                            filter
                        </a>
                        
                        
                        
                        <a href="/tags/hadoop" title="hadoop">
                            hadoop
                        </a>
                        
                        
                        
                        <a href="/tags/hbase" title="hbase">
                            hbase
                        </a>
                        
                        
                        
                        <a href="/tags/hive" title="hive">
                            hive
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/java" title="java">
                            java
                        </a>
                        
                        
                        
                        <a href="/tags/javascript" title="javascript">
                            javascript
                        </a>
                        
                        
                        
                        <a href="/tags/javaweb" title="javaweb">
                            javaweb
                        </a>
                        
                        
                        
                        <a href="/tags/jdbc" title="jdbc">
                            jdbc
                        </a>
                        
                        
                        
                        <a href="/tags/jquery" title="jquery">
                            jquery
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/jsp" title="jsp">
                            jsp
                        </a>
                        
                        
                        
                        <a href="/tags/juc" title="juc">
                            juc
                        </a>
                        
                        
                        
                        <a href="/tags/jvm" title="jvm">
                            jvm
                        </a>
                        
                        
                        
                        <a href="/tags/jwt" title="jwt">
                            jwt
                        </a>
                        
                        
                        
                        <a href="/tags/kafka" title="kafka">
                            kafka
                        </a>
                        
                        
                        
                        <a href="/tags/linux" title="linux">
                            linux
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/maven" title="maven">
                            maven
                        </a>
                        
                        
                        
                        <a href="/tags/minio" title="minio">
                            minio
                        </a>
                        
                        
                        
                        <a href="/tags/mongodb" title="mongodb">
                            mongodb
                        </a>
                        
                        
                        
                        <a href="/tags/mybatis" title="mybatis">
                            mybatis
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/mysql" title="mysql">
                            mysql
                        </a>
                        
                        
                        
                        <a href="/tags/netty" title="netty">
                            netty
                        </a>
                        
                        
                        
                        <a href="/tags/nginx" title="nginx">
                            nginx
                        </a>
                        
                        
                        
                        <a href="/tags/react" title="react">
                            react
                        </a>
                        
                        
                        
                        <a href="/tags/redis" title="redis">
                            redis
                        </a>
                        
                        
                        
                        <a href="/tags/scala" title="scala">
                            scala
                        </a>
                        
                        
                        
                        <a href="/tags/servlet" title="servlet">
                            servlet
                        </a>
                        
                        
                        
                        <a href="/tags/session" title="session">
                            session
                        </a>
                        
                        
                        
                        <a href="/tags/shiro" title="shiro">
                            shiro
                        </a>
                        
                        
                        
                        <a href="/tags/spark" title="spark">
                            spark
                        </a>
                        
                        
                        
                        <a href="/tags/spring" title="spring">
                            spring
                        </a>
                        
                        
                        
                        <a href="/tags/springboot" title="springboot">
                            springboot
                        </a>
                        
                        
                        
                        <a href="/tags/springcloud" title="springcloud">
                            springcloud
                        </a>
                        
                        
                        
                        <a href="/tags/springmvc" title="springmvc">
                            springmvc
                        </a>
                        
                        
                        
                        <a href="/tags/springsecurity" title="springsecurity">
                            springsecurity
                        </a>
                        
                        
                        
                        <a href="/tags/tomcat" title="tomcat">
                            tomcat
                        </a>
                        
                        
                        
                        <a href="/tags/vue" title="vue">
                            vue
                        </a>
                        
                        
                        
                        <a href="/tags/xml" title="xml">
                            xml
                        </a>
                        
                        
                        
                        <a href="/tags/zookeeper" title="zookeeper">
                            zookeeper
                        </a>
                        
                        
                        
                        <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81" title="分布式锁">
                            分布式锁
                        </a>
                        
                        
                        
                        <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95" title="数据结构与算法">
                            数据结构与算法
                        </a>
                        
                        
                        
                        <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" title="设计模式">
                            设计模式
                        </a>
                        
                        
                        
                        <a href="/tags/%E9%A1%B9%E7%9B%AE" title="项目">
                            项目
                        </a>
                        
                        
                    </div>
                </section>
                

                
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">                  
                    
                    <li>
                        <a href="mailto:1424197205@qq.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

		            
                    
                    <li>
                        <a target="_blank" href="/#">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/yiguan1573">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="亿观的博客" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; 亿观的博客 2022
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>









<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





</body>
</html>
